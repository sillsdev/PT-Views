Order	Ref	disable	element	style	rank	test	test2	nextstyle1	nextstyle2	class-extra	class	message	note	Valid_occurance	Invalid_occurance	note_prior	note_prior_prior
2	1.1		para	b3	8	not(verse)				mid	err-para-b3-mid-1-1	A \\b3 paragraph must contain a \\v.		XXD  1:1			
3	1.2		para	p	8	not(verse)				mid	err-para-p-mid-1-2	A \\p paragraph must contain a \\v.		XXD  1:1			
4	1.3	TRUE	verse	v		not($parent = 'p')	not($parent = 'b3')				err-verse-v--1-3	\\v must be in a \\p or \\b3			-		
5	2.1	TRUE									err----2-1	This is not used			-		
6	3.1	TRUE	table			not(following-sibling::*[2][@style = 's5'] )					err-table---3-1	The \\tr is not followed by a \\s5 after a \\ntn	SC 22 Dec: Refinement: It is incorrect to have the \s5 above a \tr, \b or not.		-		
7	3.21	TRUE	para	p		$next1-3-21 > $next2-3-21		s5	p		err-para-p--3-21	A \\p containg a \\v must have a \\s5 following it.	SC 22 Dec: See XXD 3.6, \p \v \n1 sequence should be flagged. Also a \p \v \b \n1 sequence s/b flagged too.		-		
8	3.22	TRUE	para	b3		$next1-3-22 > $next2-3-22		s5	b3		err-para-b3--3-22	A \\b3 containg a \\v must have a \\s5 following it.	SC 22 Dec: Ditto above but for \b3 ...		-		
9	4.1	TRUE	table			not(preceding-sibling::*[1][@style = 'b'])					err-table---4-1	The \\tr should be preceeded by a \\b.	(SC: redundant with 7.3)		-		
10	4.2		row	tr		cell[2]/@style = 'tc1'					err-row-tr--4-2	The second column must be a \\tc2 in \\tr.		XXD  1:2			
11	4.3		row	tr		cell[1]/@style = 'tc2'					err-row-tr--4-3	The first column must be a \\tc1 in \\tr.		XXD  1:3			
12	4.4		cell	tc1		count(following-sibling::cell) = 0 and @style = 'tc1'	not(*[@style = 'sbx'] or contains(text(),'Paragraph'))			mid	err-cell-tc1-mid-4-4	A \\tc1 must contain either an \\sbx or the word ‘Paragraph’.		xxd 1:4			
13	4.5	TRUE	char	sbx	2	following-sibling::*[2][@style = 'sbx']	not(following-sibling::node()[1]/@style = 'tbb']				err-char-sbx--4-5	A \\tbb must follow this \\sbx.	(SC: redundant with 4.7 & 4.8)		-		
14	4.6	TRUE	char	sbx		not(following-sibling::*[2][@style = 'sbx'] and following-sibling::*[1][@style = 'tbb'])	not(*[@style = '+tbb'])				err-char-sbx--4-6	The parts of the \\sbx should be separated by a \\+tbb __\\+tbb*.	(SC: redundant with 4.7 & 4.8)		-		
15	4.7		cell	tc1		$countsbx > 1	$counttbb + 1 != $countsbx			mid	err-cell-tc1-mid-4-7	These \\sbx should be separated by \\tbb __\\tbb*.		XXD 1:5			
16	4.8		cell	tc1		$countsbx = 1	count(*/*[@style = '+tbb']) = 0 and $counttbb = 0			mid	err-cell-tc1-mid-4-8	The address and the heading should be separated by this: \\sbx*\\tbb __\\tbb*\\sbx .		XXD 1:5			
17	4.9		cell	tc1	5	$countprenode > 1					err-cell-tc1--4-9	A \\tc1 can only occur as the first SFM in a \\tr.	2023-03-27 addded to show instead of 4.4 in XXD 1:2 first \tr	XXD 1:2			
18	5.1	TRUE	para	s5		pre=b3				pre	err-para-s5-pre-5-1	A \\b3 must occur before a \\s5	SC 22 Dec: I put in an example for this test at xxd 5.1		-		
19	5.2	TRUE									err----5-2	nothing	SC 22 Dec: Like 5.1, this test should be written for \s5 and  \p. I put in an example for this test at xxd 105.1		-		
20	6.1		table			$containspart and $hasfollowingtable	$notposttabledivision			post	err-table--post-6-1	When you have a Part Box, a Division Box must occur after the Part summary.  (But any \tr in the Part summary will cause a false positive.)		XXD 6:2			
21	6.11	TRUE	char	sbx		contains(text(),'Section ')	not(containing(preceding::row[1]//*[1]/text(),'Division')				err-char-sbx--6-11	When you have a '\\tr \tc1 \\sbx Part ...' the following \\tr should have have '\\tr \tc1 \\sbx Division ...'			-		
22	6.2		table			$containsdivision and $hasfollowingtable	$notposttablesection			post	err-table--post-6-2	When you have a Division Box, a Section Box must occur after the Division summary. (But any \tr in the Div. summary will cause a false positive.)		XXD 6:3			
23	6.3		table			$containssection and $hasfollowingtable	$notposttableparagraph			post	err-table--post-6-3	When you have a Section Box, a Paragraph Box must occur after the Section summary. (But any \\tr in the Section summary will cause a false positive.)		XXD 6:4,5			
24	6.4	TRUE	row	tr		$hastrpart and not($parentpresib2 = 'c')	not($parentpresib = 'b' or ($parentpresib2 = 'b' and $parentpresib = 'b3') or ($parentpresib2 = 'b' and $parentpresib = 'p'))			pre	err-row-tr-pre-6-4	A \\tr must be preceded by a \\b immediately before it or before the \\b3 or \\p above it.		XXD 6:4	-		
25	6.5	TRUE	row	tr		$hastrdivision and not($parentpresib2 = 'c')	not($parentpresib = 'b' or ($parentpresib2 = 'b' and $parentpresib = 'b3') or ($parentpresib2 = 'b' and $parentpresib = 'p'))			pre	err-row-tr-pre-6-5	A \\tr must be preceded by a \\b imediately before or before the \\b3 or \\p		XXD 7:10	-		
26	6.6	TRUE	row	tr		$hastrsection and not($parentpresib2 = 'c')	not($parentpresib = 'b' or ($parentpresib2 = 'b' and $parentpresib = 'b3') or ($parentpresib2 = 'b' and $parentpresib = 'p'))			pre	err-row-tr-pre-6-6	A \\tr must be preceded by a \\b imediately before or before the \\b3 or \\p		XXD 7:11	-		
27	6.7	TRUE	row	tr		$hastrparagraph and not($parentpresib2 = 'c')	not($parentpresib = 'b' or ($parentpresib2 = 'b' and $parentpresib = 'b3') or ($parentpresib2 = 'b' and $parentpresib = 'p'))			pre	err-row-tr-pre-6-7	A \\tr must be preceded by a \\b imediately before or before the \\b3 or \\p			-		
28	6.8		row	tr		$containspart or $containsdivision or $containssection	not($parentpostsib = 'ntn')			post	err-row-tr-post-6-8	An \\ntn is used for the summary under a Part, Division or Section Box.		XXD 6:9			
29	6.9	TRUE	row	tr		$hastrdivision	not($parentpostsib = 'ntn')			post	err-row-tr-post-6-9	An \\ntn must follow a Division Box.		XXD 6:8	-		
30	6.11	TRUE	row	tr		$hastrsection	not($parentpostsib = 'ntn')			post	err-row-tr-post-6-11	An \\ntn must follow a Section Box.		XXD 6:7	-		
31	7.1.1		para	b3		$curverse = 1	$postsib = 'b'			post	err-para-b3-post-7-1-1	A \\b para is not needed after the \\b3 \\v 1 (start of chapter).	IM updated 2023-07-19	XXD 7:1, 4:1, 8:1			
32	7.1.2		para	p		$curverse = 1	$postsib = 'b'			post	err-para-p-post-7-1-2	A \\b para is not needed after a \\p \\v 1 (start of chapter).	IM updated 2023-07-19	XXD 17:1, 18:1			
33	7.1.3		para	b3		$curverse != 1	$presib = 'b'			pre	err-para-b3-pre-7-1-3	A \\b should be after the \\b3 \\v stuff, not before it.	IM updated 2023-07-19	XXD 7.2,3			
34	7.1.4		para	p		$curverse != 1	$presib = 'b'			pre	err-para-p-pre-7-1-4	A \\b should be after the \\p, \\v stuff not before it.	IM updated 2023-07-19	XXD 17:2,3			
35	7.2		table			($containsdivision or $containspart or $containssection or $containsparagraph) and not($presib2 = 'c')	not($presib = 'b' or ($presib = 'b' and $presib2 = 'b3') or ($presib = 'b' and $presib2 = 'p'))			pre	err-table--pre-7-2	There should be a \\b before a \\tr (and after the \\p (or b3) \\v paragraph), except at v.1.	 IM updated 2023-07-19	XXD 7:10			
36	7.3	TRUE	table			$containssection and not($presib2 = 'c')	pre=p b3 b			pre	err-table--pre-7-3	A \\b must precede a \\p or \\b3 paragraph and a Section Box, except at v.1.	ditto above, but if there is a Division, the \p \v will be above the Division rather than the Section	XXD 7:11	-		
37	7.4	TRUE	table			contains(row[1]/cell[1]/char[1]/text(),'Part') and not($presib2 = 'c')	pre=p b3 b			pre	err-table--pre-7-4	A \\b must precede a \\p or \\b3 paragraph and a Part Box, except at v.1.	ditto above	XXD 7:12	-		
38	7.5	TRUE	table			contains(row[1]/cell[1]/text(),'Paragraph') and not($presib2 = 'c')	pre=p b3 b			pre	err-table--pre-7-5	A \\b must precede a \\p \\v and a Paragraph Box, except for verse 1.	ditto above	XXD 7:13	-		
39	7.6	TRUE	table			contains(row[1]/cell[1]/char[1]/text(),'Division') and not(following-sibling::*[1][name() = 'chapter'])	post=s5 tr ntn			post	err-table--post-7-6	A \\s5 must follow a \\tr \\tc1 Division if there is no Section Box below it.	SC 22 Mar : messages for 7.6-9 changed.		-		
40	7.7	TRUE	table			contains(row[1]/cell[1]/char[1]/text(),'Section') and not(following-sibling::*[1][name() = 'chapter'])	post=s5 tr ntn			post	err-table--post-7-7	A \\s5 paragraph must follow a \\tr \\tc1 Section if there is no Paragraph Box below it.			XXD 1:13		
41	7.8	TRUE	table			contains(row[1]/cell[1]/char[1]/text(),'Part') and not(following-sibling::*[1][name() = 'chapter'])	post=s5 tr ntn			post	err-table--post-7-8	A \\s5 paragraph must follow a \\tr \\tc1 Part if there is no Division Box below it.		XXD 26:1	-		
42	7.9	TRUE	table			contains(row[1]/cell[1]/text(),'Paragraph') 	post=s5 tr ntn			post	err-table--post-7-9	A \\tr Paragraph Box needs a \\s5, \\tr, or \\ntn after it.		XXD 26:1	-		
43	7.10.1		para	p		($curverse != 1) and $posttable	not($postsib = 'b' or ( $postsib = 'rem' and $postsib2 = 'b'))			post	err-para-p-post-7-10-1	A \\tr needs a \\b above it (below the \\p \\v stuff), except @ v.1.	IM updated 2023-07-19	XXD 7:10			
44	7.10.2		para	b3		($curverse != 1) and $posttable	not($postsib = 'b' or ( $postsib = 'rem' and $postsib2 = 'b'))			post	err-para-b3-post-7-10-2	A \\tr needs a \\b above it (below the \\b3 \\v stuff), except @ v.1.	IM updated 2023-07-19	XXD 7:10-13			
45	8.1		para	s5		$hascvref and $numbfirst 	$refchapcolon != $prechapter			mid	err-para-s5-mid-8-1	The chapter number in this \\s5 should match the current chapter number.		XXD 8:1			
46	8.1.2	TRUE	para	s5		$hascvref and $numbfirst and not($hasvlet)					err-para-s5--8-1-2				-		
47	8.21		para	s5		not($prevhyphen) and not($refvendash) and not($hasvlet)	$refcolonv != $preverse			mid	err-para-s5-mid-8-21	The verse number in this \\s5 should match the current verse number.		XXD 8:2			
48	8.21.2		para	s5		not($prevhyphen) and not($refvendash) and $hasvlet	$refcolonvlet != $preverse			mid	err-para-s5-mid-8-21-2	The verse number in this \\s5 should match the current verse number.		8:20 (\s5 8:19c)			
49	8.22		para	s5	5	not($prevhyphen) and $refvendash and not($hasvlet)	$refcolonvr1 != $preverse			mid	err-para-s5-mid-8-22	The first verse number in the range in this \\s5 should match current verse number.		XXD 8:2			
50	8.23		para	s5		$prevhyphen and $refvendash	$refcolonvr1 != $preverser1			mid	err-para-s5-mid-8-23	The first verse number in the range in this \\s5 should match the first number of current verse range.		XXD 8:3-5			
51	8.24	TRUE	para	s5		contains(.,'.')					err-para-s5--8-24	This \\s5 should not contain a period.	SC 5 Dec: This test looks redundant to 8:25. Delete?		-		
52	8.25		para	s5	10	not(contains(.,':'))				mid	err-para-s5-mid-8-25	This \\s5 must contain a colon between the chapter and verse.		XXD 8:6			
53	8.26		para	s5		contains($preverse,'-') and not(contains(.,'–'))	not((translate(substring-after(.,':'),$letlc,'') = substring-before($preverse,'-') or  translate(substring-after(.,':'),$letlc,'') > substring-before($preverse,'-')) and ( translate(substring-after(.,':'),$letlc,'') = substring-after($preverse,'-') )or  translate(substring-after(.,':'),$letlc,'') < substring-after($preverse,'-') )			mid	err-para-s5-mid-8-26	The verse number in this \\s5 must be within the current verse range.		XXD 8:16-17			
54	8.3		para	s5		string-length(translate(.,$validcvnumbletpunc,'')) > 0	not($hasreordered)			mid	err-para-s5-mid-8-3	This \\s5 reference has invalid character(s). Numbers, colon, en dash, and letters a–j are allowed.	SC 22 Dec: Can we make this go to 10 (a-j) rather than 8 (a-h)? 	XXD 8:18			
55	8.3.1		para	s5		string-length(translate(text()[1],$validreorderedcvnumbletpunc,'')) > 0	$hasreordered and $hastbb			mid	err-para-s5-mid-8-3-1	This \\s5 reference has invalid character(s). Numbers, colon, en dash, comma, and letters a–j are allowed.					
56	8.3.2		para	s5		string-length(translate(.,$validreorderedcvnumbletpunc,'')) > 0	$hasreordered and not($hastbb)			mid	err-para-s5-mid-8-3-2	This \\s5 reference is reordered and does not contain a \\tbb between the verse reference and the (reordered) part.					
57	8.4.1		cell	tc1		$hasspacecref and $hascvref and not(contains($preverse,'-')) and contains(.,'–') and $notsbxchild	$refcolonvr1 != $preverse			mid	err-cell-tc1-mid-8-4-1	The first verse of the range in this Paragraph Box does not match the current verse number in \\v above.		XXD 8:20			
58	8.4.2		cell	tc1		$hascvref and not(contains($preverse,'-'))  and not(contains(.,'–')) and $containsparagraph	$refcolonvnumb != $preverse			mid	err-cell-tc1-mid-8-4-2	The verse in this Paragraph Box does not match the current verse number in \\v above.		XD 1:15			
59	8.4.3		char	sbx		$hascvref and not(contains($preverse,'-')) and contains(.,'–')	$refcolonvr1 != $preverse			mid	err-char-sbx-mid-8-4-3	The first verse of the range in this \\sbx does not match the current verse number in \\v above.		XXD 8:20			
60	8.4.4		char	sbx		$hascvref and not(contains($preverse,'-'))  and not(contains(.,'–'))	$refcolonv != $preverse			mid	err-char-sbx-mid-8-4-4	The verse in this \\sbx does not match the current verse number in \\v above. (Or you maybe using an em dash rather than an en dash.)		XXD 1:13 but hidden by #9.6			
61	8.4.5		char	sbx		$hasspacecref  and $hascvref 	$refwordschapcolon != $prechapter			mid	err-char-sbx-mid-8-4-5	The chapter in this \\sbx does not match the current chapter number.		XXD 8:19			
62	8.4.6		cell	tc1		$hasspacecref and $hascvref 	$refwordschapcolon != $prechapter			mid	err-cell-tc1-mid-8-4-6	The chapter in this \\tc1 does not match the current chapter number.	excludes if contains sbx	XXD 8:19			
63	8.4.7		char	sbx		$numbfirst and $hascvref	$refchapcolon != $prechapter			mid	err-char-sbx-mid-8-4-7	The chapter in this \\sbx does not match the current chapter number.		XXD 23:1, 4:1			
64	8.4.8		cell	tc1		$numbfirst and $hascvref and $notmultirowtable and $containsparagraph	$refchapcolon != $prechapter			mid	err-cell-tc1-mid-8-4-8	The chapter in this \\tc1 does not match the current chapter number.	Not sure this ever occurs	XXD 8:3-5			
65	9.1		para			contains(translate(.,$numb,$numbsub),'#:#')	contains(translate(translate(.,$letlc,''),$numb,$numbsub),'#-#')			mid	err-para--mid-9-1	The hyphen in a verse range in this paragraph should be an en dash.		XXD 9:1-3		SC 5 Dec: XXD 1:11 has several examples that should be flagged but are not.	
66	9.11	TRUE	cell	tc1	8	$hascvref	contains(translate(translate(.,$letlc,''),$numb,$numbsub),'#-#')				err-cell-tc1--9-11	The hyphen in the verse range in this \\tc1 should be an en dash.			-		
67	9.12	TRUE	char	sbx		$hascvref and contains(translate(translate(.,$letlc,''),$numb,$numbsub),'#-#')					err-char-sbx--9-12	The hyphen in the verse range in this \\sbx should be an en dash.	SC 22 Dec: yes, delete this test.		-	SC 15 Dec: Since rule 9.11 and 9.12 catch the mistake at XXD 1:13, maybe we don't need this rule?	
68	9.13	TRUE	para	n1		$hascvref	contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-$') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-#') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'#-#')				err-para-n1--9-13	The hyphen in a range in this paragraph should be an en dash.	SC 22 Dec: not working.		-		
69	9.14	TRUE	para	n2		$hascvref	contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-$') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-#') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'#-#')				err-para-n2--9-14	The hyphen in a range in this paragraph should be an en dash.			-		
70	9.15	TRUE	para	n3		$hascvref	contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-$') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-#') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'#-#')				err-para-n3--9-15	The hyphen in a range in this paragraph should be an en dash.			-		
71	9.16	TRUE	para	s5	8	$hascvref	contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-$') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-#') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'#-#')				err-para-s5--9-16	The hyphen in a range in this paragraph should be an en dash.			-		
72	9.17	TRUE	para	ntn		$hascvref	contains(translate(.,$validcvnumblet,$validcvnumbletsub),'#-#')				err-para-ntn--9-17	The hyphen in a range in this paragraph should be an en dash.			-		
73	9.2		verse	v		contains(@number,'–')				mid	err-verse-v-mid-9-2	The en dash in the verse range in this \\v must be a hyphen.		XXD 9:1-3			
74	9.3		verse	v		contains(translate(@number,$validcvnumblet,$validcvnumbletsub),'#$-#') or contains(translate(@number,$validcvnumblet,$validcvnumbletsub),'#$')				mid	err-verse-v-mid-9-3	A \\v cannot have verse parts in it.		XXD 9:1-3		SC 5 Dec: This test is not working, see XXD 1:20. 	
75	9.4	TRUE	verse	v		contains(translate(@number,$validcvnumblet,$validcvnumbletsub)),'#$')					err-verse-v--9-4	A verse number can't have a verse part letter unless it is in a range.	SC 22 Dec: OK, it looks like rule 9.3 catches all the scenarios I was thinking of.		-	SC 16 Dec: Paratext does not want a letter anywhere in the verse field after the \v. Maybe make 9:3 more general to not allow a letter anywhere in the verse field? Actually, the only allowable characters are digits and the hyphen (between two sets of digits, not at the end, i.e., 23-, or at the beginning).	
76	9.5		cell			contains(translate(text(),$numb,$numbsub),'#:#')	contains(translate(translate(.,$letlc,''),$numb,$numbsub),'#-#')			mid	err-cell--mid-9-5	The hyphen in a verse range in this \\tr \\tc1 should be an en dash.		XXD 9:5 1:12			
77	9.6		char			contains(translate(.,$numb,$numbsub),'#:#')	contains(translate(translate(.,$letlc,''),$numb,$numbsub),'#-#')			mid	err-char--mid-9-6	The hyphen in a verse range in this paragraph should be an en dash.		XXD 9:6			
78	10.1		para	n1	5	$counttec > 1				mid	err-para-n1-mid-10-1	There should be only one \\tec per \\n1 paragraph.		XXD 10:1 first \n1			
79	10.1.2		para	n2	5	$counttec > 1				mid	err-para-n2-mid-10-1-2	There not should be two or more \\tec in a \\n2 paragraph.		XXD 10:1 first \n2			
80	10.1.3		para	n3	5	$counttec > 1				mid	err-para-n3-mid-10-1-3	There should be only one \\tec per \\n3 paragraph.		XXD 10:1 first \n3			
81	10.1.4		para	n1	5	$counttec + $countteu  = 0 				mid	err-para-n1-mid-10-1-4	This \\n1 paragraph is missing a \\tec, or perhaps should be a \\n2 or a \\ntn.		XXD 10:1 second \n1			
82	10.1.5		para	n3	5	$counttec = 0	$counttrs = 0			mid	err-para-n3-mid-10-1-5	This \\n3 paragraph is missing a \\tec.		XXD 10:1 second \n3			
83	10.2.1		char	tec		$countpresibnode > 0				mid	err-char-tec-mid-10-2-1	The \\tec should be at the start of the paragraph (or you are not using an \\n1, \\n2, or \\n3 style).		XXD 10:2			
84	10.2.2		para	n3	5	$node1tec and $counttec = 1	$validtecfirst != '$'			mid	err-para-n3-mid-10-2-2	There should be text in a \\tec at the beginning of this \\n3 paragraph.		XXD 10:2 last \n3			
85	10.2.3		char	tec	5	$countpretec > 0				pre	err-char-tec-pre-10-2-3	This \\tec should not be here. There should be only one \\tec at the start of this paragraph.		XXD 10:1			
86	10.31		char	tec	5	$lastchar = ' '				mid	err-char-tec-mid-10-31	The last character of this \\tec should be a colon, not a space.		XXD 10:3 first two \n1			
87	10.32		char	tec	3	not($lastchar = ':')				mid	err-char-tec-mid-10-32	The last character of this \\tec should be a colon.		XXD 10:3 last two \n1			
88	10.33	TRUE	char	tec		not(contains(text()[last()],':'))				mid	err-char-tec-mid-10-33	This \tec does not contain an ending colon.	SC 16 Dec: This test seems redundant with 10:32		-		
89	10.4		char	trs		not(preceding-sibling::*[@style = 'tec']) 	not($ancestor= 'f' or $parent = 'n2' or $parent = 'li1' or $parent = 'hb1')			mid	err-char-trs-mid-10-4	A \\tec should precede this \\trs in the paragraph, or perhaps this paragraph should be an \\n2.	SC 23 Mar: Caught by #10.6	XXD 10:4			
90	10.5		char	tei		$countpren1 > $countpres5 or $parentpresibpos > $countpres5 	contains($pren1tec,text()) and not($ancestor = 'p') and not($ancestor = 'f') and not($ancestor = 'qp') and not($ancestor = 'q1tn') and not($ancestor = 'q2tn') and not($ancestor = 'qns') and not($ancestor = 'b3')			mid	err-char-tei-mid-10-5	Any repeat of the words found in the preceding \\tec should be in a \\trs, not in this \\tei.		XXD 10:5			
91	10.6		char	trs		$ellipsiscount = 0 and not(contains($pretec,.))	not(contains($pretec,$curspfield) and $teccharposttrs = '$') or  not($teccharpretrs = '$' or $teccharposttrs = '$') 			mid	err-char-trs-mid-10-6	The word/phrase in this \\trs is not found in the closest preceding \\tec, or is misspelled, or has wrong capitalization, or has punctuation that does not belong in the \\trs.		XXD 10:4,6			
92	10.6.1.1	TRUE	char	trs		$ellipsiscount = 0  and $spacecount = 0 and $lenstring > 3	not(contains($pretec,$curtrs))			mid	err-char-trs-mid-10-6-1-1	The word/phrase in this \\trs is not found in the closest preceding \\tec, or is misspelled, or has wrong capitalization, or has punctuation that does not belong in the \\trs.					
93	10.6.1.2	TRUE	char	trs		$ellipsiscount = 0  and $lenstring < 4	not(contains(concat(' ',$pretec),concat(' ',$curtrs)))			mid	err-char-trs-mid-10-6-1-2	The word/phrase in this \\trs is not found in the closest preceding \\tec, or is misspelled, or has wrong capitalization, or has punctuation that does not belong in the \\trs.					
94	10.6.2		char	trs		$ellipsiscount = 1	not(contains($pretec,$split2ellipsisstring1) and contains($pretec,$split2ellipsisstring2))			mid	err-char-trs-mid-10-6-2	The word or phrase in this \\trs are not found in the preceding \\tec.		XXD 10:6			
95	10.6.3		char	trs		$ellipsiscount = 2	not(contains($pretec,$split2ellipsisstring1) and contains($pretec,$split3ellipsisstring2) and contains($pretec,$split3ellipsisstring3))			mid	err-char-trs-mid-10-6-3	The word or phrase in this \\trs are not found in the preceding \\tec.					
96	10.6.4		char	trs		$ellipsiscount = 3	not(contains($pretec,$split2ellipsisstring1) and contains($pretec,$split3ellipsisstring2) and contains($pretec,$split4ellipsisstring3) and contains($pretec,$split4ellipsisstring4))			mid	err-char-trs-mid-10-6-4	The word or phrase in this \\trs are not found in the preceding \\tec.					
97	10.6.5	TRUE	char	trs		not($hasellipsis)	contains($pretec,.) and ($teccharpretrs = '$' or $teccharposttrs = '$')				err-char-trs--10-6-5	The word/phrase in this \\trs is not found in the closest preceding \\tec, or is misspelled, or has wrong capitalization, or has punctuation that does not belong in the \\trs.					
98	11.1		char	tec		translate(substring(.,1,1),$invalidtecfirstpunc,'%%') = '%'				mid	err-char-tec-mid-11-1	The first character should not be punctuation unless you are specifically talking about that punctuation in this Note, or it is a short quote within a larger text.		XXD 11:1		SC 5 Dec: not working. See XXD  1:22	
99	11.2		char	tec		translate($lastchar2,$invalidtecendpunc,$invalidtecendpuncsub) = '%'				mid	err-char-tec-mid-11-2	The last character before the colon should not be punctuation unless it is a question, or exclamation mark, or an end quote mark needed for the Note, or a short quote within a larger text.		XXD 11:2			
100	11.2.1	TRUE	char	tec	5	contains(.,$sq)				mid	err-char-tec-mid-11-2-1	This \\tec contains a straight single quote.	see 26.2		-		
101	11.2.2	TRUE	char	tec	5	contains(.,$dq)				mid	err-char-tec-mid-11-2-2	This \\tec contains a straight double quote.	see 26.2		-		
102	12.1		para	n1		$counttec > 0 and contains($pren1tec,$curtec) and $precharn1tec != '$' and $postcharn1tec != '$'	$countpres5 < $countpren1			mid	err-para-n1-mid-12-1	The contents of this \\n1 \\tec is a portion of the previous \\n1 \\tec. Perhaps this should be an \\n2?		XXD 1:26		SC 5 Dec: not working. See XXD  1:24-6	
103	12.2		para	n2	8	$counttec > 0 and contains($pren2tec,$curtec) and $precharn2tec != '$' and $postcharn2tec != '$'	$countpren1 < $countpren2 and $countpres5 < $countpren2			mid	err-para-n2-mid-12-2	The contents of this \\n2 \\tec is a portion of the previous \\n2 \\tec. Perhaps this should be an \\n3?		XXD 1:26		SC 16 Dec: message wording changed.	
104	12.3	TRUE	para	n3	3	child::*[@style = 'tec'] and contains($pren3tec,$curtec)	$countpres5 < $countpren3				err-para-n3--12-3	The contents of this \\n3 \\tec should not be in the previous \\n3 \\tec	SC 16 Dec: Remove this test. Sometimes we will get repeats here because there is no n4.		-		
105	12.4	TRUE	para	n1		not(contains(*[@style = 'tec'][1],following-sibling::*[@style = 'n2'])/*[@style = 'tec'])					err-para-n1--12-4	nothing			-		
106	12.5	TRUE	para	n2		not(contains(*[@style = 'tec'][1],following-sibling::*[@style = 'n3'])/*[@style = 'tec'])					err-para-n2--12-5	nothing			-		
107	12.6		para	n3	5	not(contains($pren2tec,$curtec) or contains($pren1tec,$curtec))	$hastecchild and not($hastecversion) and not($hastecellipsis)			mid	err-para-n3-mid-12-6	The contents of this \\n3 \\tec are not found in the preceding \\n2 or \\n1 \\tec.		XXD 12:2			
108	12.6.1		para	n3	5	not((contains($pren2tec,$curtecpreellipsis) and contains($pren2tec,$curtecpostellipsis)) or (contains($pren1tec,$curtecpreellipsis) and contains($pren1tec,$curtecpostellipsis)))	$countpres5 < $countpren2 and $countpres5 < $countpren1 and $hastecellipsis and $hastecchild and not($hastecversion)			mid	err-para-n3-mid-12-6-1	The contents of this \\n3 \\tec are not found in the preceding \\n2 or \\n1 \\tec.		XXD 12:6			
109	12.6.2		para	n3		not((contains($pren2tec,$curtecverpreellipsis) and contains($pren2tec,$curtecpostellipsis)) or (contains($pren1tec,$curtecverpreellipsis) and contains($pren1tec,$curtecpostellipsis)))	$hastecellipsis and $hastecchild  and $hastecversion			mid	err-para-n3-mid-12-6-2	The contents of this \\n3 \\tec are not found in the preceding \\n2 or \\n1 \\tec.					
110	12.6.3		para	n3		not(contains($pren2tec,$curtecver) or contains($pren1tec,$curtecver))	not($hastecellipsis) and $hastecchild and $hastecversion			mid	err-para-n3-mid-12-6-3	The contents of this \\n3 \\tec are not found in the preceding  \\n2 or \\n1 \\tec.					
111	12.7		para	n2	5	not(contains($pren1tec,$curtec))	$countpres5 < $countpren1 and $hastecchild and not($hastecellipsis) and not($hastecversion)			mid	err-para-n2-mid-12-7	The contents of this \\n2 \\tec are not found in the preceding \\n1 \\tec. Perhaps this should be an \\\n1?		XXD 1:26,27			
112	12.7.1		para	n2	5	not(contains($pren1tec,$curtecpreellipsis) and contains($pren1tec,$curtecpostellipsis)) 	$countpres5 < $countpren1 and $hastecchild and $hastecellipsis and not($hastecversion)			mid	err-para-n2-mid-12-7-1	The contents of this \\n2 \\tec are not found in the preceding \\n1 \\tec.		XXD 12:7			
113	12.7.2	TRUE	para	n2			$countpres5 < $countpren1 and $hastecchild and not($hastecellipsis)			mid	err-para-n2-mid-12-7-2	The contents of this \\n2 \\tec is not found in the preceding  \\n1 \\tec.			-		
114	12.7.3		para	n2		not(contains($pren1tec,$curtecverpreellipsis) and contains($pren1tec,$curtecpostellipsis)) 	$countpres5 < $countpren1 and $hastecchild and $hastecellipsis and $hastecversion			mid	err-para-n2-mid-12-7-3	The contents of this \\n2 \\tec are not found in the preceding \\n1 \\tec.					
115	12.7.4		para	n2		not(contains($pren2tec,$curtecver) or contains($pren1tec,$curtecver))	$countpres5 < $countpren1 and $hastecchild and not($hastecellipsis) and $hastecversion			mid	err-para-n2-mid-12-7-4	The contents of this \\n2 \\tec are not found in the preceding \\n1 \\tec.					
116	12.8.1		para	n2		$countpres5 > $countpren1	child::*[@style = 'tec']			pre	err-para-n2-pre-12-8-1	There is no \\n1 preceding this \\n2. It should be an \\n1.		XXD 12:4		SC: 16 Dec: added test at 12:4, not working	
117	12.8.2		para	n3	5	$countpres5 > $countpren2				pre	err-para-n3-pre-12-8-2	The \\n3 occurs before any \\n2 in this \\s5 note group.		XXD 12:5; 12.7			
118	12.8.3	TRUE	para	n3		not(contains($pren1tec,$curtec))	$countpres5 < $countpren1			pre	err-para-n3-pre-12-8-3	This should be an \\n1 paragraph since the content is not found in the preceding \\n1 \\tec.			-		
119	12.9	TRUE	char	tec		($countpres5 < $countpren2) and ($countpres5 < $countpren1) and not($hasellipsis)	not(contains($pretec,.))			mid	err-char-tec-mid-12-9	The contents of this \\tec is not found in the preceding \\tec.			-		
120	12.9.1	TRUE	char	tec		$countpres5 < $countpren2 and $countpres5 < $countpren1 and $hasellipsis 	not(contains($pretec,$preellipsisstring) and contains($pretec,$postellipsisstring))			mid	err-char-tec-mid-12-9-1	The contents of this \\tec is not found in the preceding \\tec.			-		
121	13.1	TRUE	para	n3		not(*[@style = 'tec'])					err-para-n3--13-1	There should be a \\tec character style in this \\n3 paragraph	SC 5 Dec: This seems redundant with 13.2. Perhaps better would be to test for not two tec in one paragraph, like 10.1.		-		
122	13.2	TRUE	para	n3		not(node()[1] = *[@style = 'tec'])					err-para-n3--13-2	There should be text in \\tec formatting at the beginning of this paragraph			-		
123	14.1		para	n1		position() != last()	post=n1 n2 n3 ntn qp q1tn q2tn b b2 b3 p s5 li1 hb1 s3 c gra			post	err-para-n1-post-14-1	Only these paragraphs are allowed after a \\n1: \\n1 \\n2 \\n3 \\ntn \\qp \\q1tn \\q2tn \\b \\b2 \\b3 \\p \\s5 \\li1 \\hb1 \\s3 \\gra \\c.		XXD 14:1			
124	14.2		para	qp		preceding-sibling::*[1][@style = 'qp']				pre	err-para-qp-pre-14-2	Two \\qp paragraphs, one after the other, are not allowed, unless it is one example with two paragraphs, or you are illustrating parallel lines of Hebrew poetry.		XXD 14:1			
125	15.1		para	b3		$hasvhyphen and not($posts5hasendashvr2) and not($posts5hasleftround)	$posts5v != $curvr1			post	err-para-b3-post-15-1	The first \\s5 below should include the first verse in the \\v verse range here.				(old messages below)	
126	15.2		para	p		$hasvhyphen and not($posts5hasendashvr2) and not($posts5hasleftround)	$posts5v != $curvr1			pre	err-para-p-post-15-2	The first \\s5 below should include the first verse in the \\v verse range here.				There should be an \\s5 after this that matches the first verse in the verse range. Or the \\s5 should have a verse range.	
127	15.3	TRUE	para	b3		$prevhyphen and not($pres5hasendashvr2 or $pres5hasleftround) 	$pres5v != $preverser2			post	err-para-b3-pre-15-3	The last \\s5 above (in the previous verse range) should include the last verse in the previous \\v verse range.				There should be an \\s5 before this that matches the last verse in the preceding verse range.	
128	15.4	TRUE	para	p		$prevhyphen and not($pres5hasendashvr2 or $pres5hasleftround) 	$pres5v != $preverser2			pre	err-para-p-pre-15-4	The last \\s5 above (in the previous verse range) should include the last verse in the previous \\v verse range.					
129	15.5		para	b3		$hasvhyphen and not($posts5beforevhasvr2) and not($posts5beforevhaslrb) 	not(contains($values5beforev,concat(':',$curvr2)))			post	err-para-b3-post-15-5	The last \\s5 below (in this verse range) should include the last verse in this \\v verse range.					
130	15.6		para	p		$hasvhyphen and not($posts5beforevhasvr2) and not($posts5beforevhaslrb) 	not(contains($values5beforev,concat(':',$curvr2)))			post	err-para-p-post-15-6	The last \\s5 below (in this verse range) should include the last verse in this \\v verse range.					
131	15.7		char	fr		$hascvref or $hasbadcvref				mid	err-char-fr-mid-15-7	Remove this \\fr and the address. TNs do not use them.					
132	17.1.1		char	tbb		text() = '_'					err-char-tbb--17-1-1	This \tbb __\tbb* has less than the required 2 underscore characters.		XXD 1:27			
133	17.1.2		char	tbb		text() = '___' or text() = '____'				mid	err-char-tbb-mid-17-1-2	This \tbb __\tbb* has more than 2 underscore characters.		XXD 1:27			
134	17.2		char	tbb	5	substring(preceding-sibling::node()[1],string-length(preceding-sibling::node()[1]),1) = ' '				pre	err-char-tbb-pre-17-2	There should not be a space before a \\tbb.		XXD 1:28			
135	17.3		char	tbb	10	substring(following-sibling::node()[1],1,1) = ' '				post	err-char-tbb-post-17-3	There should not be a space after a \\tbb*.		XXD 1:28			
136	18.1		para	ntn		pre=s3 s5 ntn tr ntn qp qns q1tn q2tn li1 li2 gra gj				pre	err-para-ntn-pre-18-1	An \\ntn should be preceeded by a \\s3, \\s5, \\tr, \\ntn, \\qp, \\qns, \\q1tn, \\q2tn, \\li1, \\li2, \\gra, or \\gj.		XXD 18:29-30			
137	19.1		para	s3	6	not(contains(text(),'General Comment on'))				mid	err-para-s3-mid-19-1	An \\s3 paragraph always starts with `General Comment on`		XXD 19:1		SC 2 Dec: @Neh 7:5b the text is correct but I still get the tag error. Also, the message should read 'An \\s3 paragraph always...'.	
138	19.2		para	s3	6	not($hascvref )				mid	err-para-s3-mid-19-2	This \\s3 paragraph is missing a valid chapter verse reference, or the colon is missing.		XXD 19:1			
139	19.3		para	s3	5	$hascvref and $hasspacecref	$refwordschapcolon != $prechapter			mid	err-para-s3-mid-19-3	The chapter number in this \\s3 does not match the current chapter number.		XXD 19:1			
140	19.4		para	s3		not($prevhyphen) and not($refvendash) and not($hasvlet)	$refcolonv != $preverse			mid	err-para-s3-mid-19-4	The verse number in this \\s3 does not match the current verse number in \\v above or the hyphen should be a en dash.		XXD 19:1		SC 5 Dec: This seems to be catching the hyphen, but the message then needs to read: 'The hyphen in this \\s3 needs to be an en dash'	
141	19.4.1		para	s3		not($prevhyphen) and not($refvendash) and $hasvlet	$refcolonvlet != $preverse			mid	err-para-s3-mid-19-4-1	The verse number in this \\s3 does not match the current verse number in \\v above.		XXD 19:1			
142	19.5		para	s3		$hassubvrange and $hascvref 	$refcolonvlet != $preverse			mid	err-para-s3-mid-19-5	The verse number in this \\s3 does not match the current verse number in \\v above.		XXD 19:2			
143	19.6		para	s3		($refvendash  and ($lastchartype = '#')) or (contains($reftype,'#$–#')  and ($lastchartype = '#'))	$refcolonvr2 != $preverse			mid	err-para-s3-mid-19-6	The last verse number in the range in this \\s3 does not match the current verse number in the \\v above.		XXD 19:2			
144	19.7		para	s3	5	$hascvref and $lastchartype  = '$'	$lastchar != substring($pres5text,string-length($pres5text),1)			mid	err-para-s3-mid-19-7	The ending verse part does not match the previous \\s5 verse part.	SC 21 Dec: Changed message. Otherwise OK.	XXD 19:2		2022-11-16 won't handle this range 5:6c-7==fixed now, 2022-12-16 test okay	
145	19.8		para	s3		post=ntn				mid	err-para-s3-mid-19-8	An \\s3 can only be followed by an \\ntn.		XXD 19:2			
146	20.3		char	tec		*[@style = 'f']				mid	err-char-tec-mid-20-3	A \\tec cannot contain a footnote (\\f ...\\f*). It must be after the \\tec*.		XXD 20:32		SC 6 Dec: not working. See XXD 1:32	
147	22.1		figure	fig	8	not($graparent)				pre	err-figure-fig-pre-22-1	A \\fig must only occur in a \\gra paragraph.		XXD 22:1-3			
148	22.11	TRUE	para		5	*[@style = 'fig']	not(@style = 'gra')			mid	err-para--mid-22-11	This is not an \\gra paragraph. A \\fig must only occur in a \\gra paragraph	IM 2023-02-28 22.1 is working so this is not needed now.		-		
149	22.2		para	gra	8	$countfig + $countf = 2	$countnode != 2			mid	err-para-gra-mid-22-2	This \\gra has all the required elements of \\fig and a footnote, but also has some other markup, extra spaces or text.	SC 6 Dec: This test does not seem to be working. Please make the message: 'This \\ntn must only have a \\fig and a footnote'.	XXD 22:4,8			
150	22.2.1		figure	fig		$curpos != 1				pre	err-figure-fig-pre-22-2-1	The \\fig must be the first item in a \\gra paragraph.	SC 6 Dec: This test does not seem to be working. Please make the message: 'This \\ntn must only have a \\fig and a footnote'.	XXD 22:5			
151	22.2.2	TRUE	para	gra		$countfig + $countf = 2	$nodecount != 2				err-para-gra--22-2-2	This \\gra has all the required elements of \\fig and a footnote, but also has some other markup, extra spaces or text.	same as 22.2		-		
152	22.3		note	f		$graparent	not(preceding-sibling::*[1][@style = 'fig'] )			pre	err-note-f-pre-22-3	The sequence should be \\fig...\\fig*\\f...\\f*. Note no space after \\fig*.		XXD 22:6			
153	22.4		link	jmp		not($gjparent) and $containsclickhere				pre	err-link-jmp-pre-22-4	This ‘Click here...’ \\jmp should occur as the only item in a \\gj paragraph. The \\gj  para should be immediately after a \\gra paragraph.		XXD 22:3-4			
154	22.5		note	f		@caller != '*'				pre	err-note-f-pre-22-5	The caller for the \\f must be *.		XXD 22:7			
155	22.6		figure	fig	2	$hascoloncvref and not($hasspaceinref)	$refattchap != $prechapter			mid	err-figure-fig-mid-22-6	The referenced chapter number for the \\fig does not match the current chapter number.		XXD 22:9			
156	22.6.2		figure	fig	2	$hascoloncvref and $hasspaceinref				mid	err-figure-fig-mid-22-6-2	The reference in this \\fig should not contain a book code, and the full stop between chapter and verse must be a colon.		XXD 22:6			
157	22.6.3	TRUE	figure	fig	2	not($hascoloncvref) and not($hasspaceinref)	$refattchapdot != $prechapter			mid	err-figure-fig-mid-22-6-3	The referenced chapter number for the \\fig does not match the preceding \\c number.			-		
158	22.6.4	TRUE	figure	fig	2	not($hascoloncvref) and $hasspaceinref	substring-after($refattchapdot,' ') != $prechapter			mid	err-figure-fig-mid-22-6-4	The referenced chapter number for the \\fig does not match the preceding \\c number.			-		
159	22.7		figure	fig		$hascoloncvref and not($hasspaceinref)	$refattverse != $preverse			mid	err-figure-fig-mid-22-7-2	The referenced verse number for the \\fig does not match the current verse number.		XXD 22:7			
160	22.7.2		figure	fig		not($hascoloncvref)				mid	err-figure-fig-mid-22-8	The reference should be chapter number then colon then verse number. No book code.		XXD 22:1,3-8			
161	22.8		para	gra		$countfig + $countf = 1	$countf = 0			mid	err-para-gra-mid-22-8	This \\gra paragraph is missing the copyright footnote.		XXD 22:10			
162	22.9		para	gj		$countjmp = 0				mid	err-para-gj-mid-22-9	This \\gj paragraph is missing a ‘Click here...’ jump link ( \\jmp).		XXD 22:11			
163	22.9.1		para	gj		$countnode != 1				mid	err-para-gj-mid-22-9-1	This \\gj paragraph should contain only one ‘Click here...’ \\jmp item, and no other text or markup.		XXD22:12			
164	22.9.2		para	gj		pre=gra				pre	err-para-gj-pre-22-9-2	The paragraph preceding this \\gj paragraph is not a \\gra.		XXD 22:2,3			
165	22.10.		para	gra		$countfig + $countf = 1	$countfig = 0			mid	err-para-gra-mid-22-10-	This \\gra paragraph is missing a \\fig.		XXD 22:12			
166	23.1		para			not(@style = 'b') and not(@style = 'b2') 	string-length(text()) = 0 and count(*) = 0			mid	err-para--mid-23-1	This paragraph type should not be empty. Allowed are \\b and on rare occasion \\b2.		XXD 1:35, 23:1			
167	23.2		para	b2		following-sibling::*[1][@style = 'b']				pre	err-para-b2-pre-23-2	A \\b2 should not precede a \\b.		XXD 23:2			
168	23.3		para	b		following-sibling::*[1][@style = 'b2']				post	err-para-b-post-23-3	A \\b2 should not follow a \\b.		XXD 23:3			
169	23.4		para	b2		count(node()) > 0				mid	err-para-b2-mid-23-4	A \\b2 paragraph should be empty.		XXD 23:1			
170	23.5		para	b		count(node()) > 0				mid	err-para-b-mid-23-5	A \\b paragraph should be empty.		XXD 23:1			
171	24.1		para	ntn		char[@style = 'tec']				mid	err-para-ntn-mid-24-1	An \\ntn should not contain a \\tec.		XXD 24:1			
172	25.1	TRUE	para	n1		next-pair=n2 n3					err-para-n1--25-1				-		
173	26.1		para		5	contains(text(),$sq) or contains(text(),$dq) 				mid	err-para--mid-26-1	This paragraph contains a straight quote mark. It should be a curly quote mark.		XXD 26:1			
174	26.2		char		5	contains(text(),$sq) or contains(text(),$dq) 				mid	err-char--mid-26-2	This character SFM contains a straight quote mark. It should be a curly quote mark.		XXD 26:1			
175	26.3		cell			contains(text(),$sq) or contains(text(),$dq) 				mid	err-cell--mid-26-3	This table cell contains a straight quote mark. It should be a curly quote mark.		XXD 26:1			
											err----						
																	
																	
																	
	175	57															
	118	-															