grp	sc-r	ref	disable	element	style	rank	test	test2	class-extra	message	note	Valid_error	Invalid_error	note_prior	note_prior_prior
TNDD	SC1.1	2		cell	tc1	10	not(count(*[@style = 'sbx']) = 2)	count(preceding::chapter) > 0		This \\tc1 SFM should have two \\sbx SFMs					
TNDD	SC1.2	3		cell	tc1	10	not(count(*[@style = 'tbb']) = 1)	count(preceding::chapter) > 0		This \\tc1 SFM should have one \\tbb __\tbb* SFM					
TNDD	SC8	4		char	brk	8	contains(text(),'⌊') and not(parent::*[@style = 'ros'])	post-inline=imp	post	This \\brk* SFM should only occur immediately before an \\imp SFM.					
TNDD	SC8	5		char	brk	10	contains(text(),'⌊')	following-sibling::node()[1]/text() = ' ' and following-sibling::node()[2]/@style = 'imp'	post	There should not be a space between this \\brk and the following \\imp.	This rule is covered by rule 5				
TNDD	SFM16	6		char	brk	0	contains(text(),'⌊') and position() > 1 and not(preceding-sibling::node()[1][@style = 'tbb']) and not(substring(following-sibling::char[1][@style = 'imp'],1,1) = '’')	not(translate(substring($presibnode1,string-length($presibnode1),1),'+ “/(‘','_+++++') = '+')	pre	This \\brk SFM is not preceded by a space or quotes or left parenthesis	Removed a redundant and critera in test 1				
TNDD	SC8	7		char	brk	8	contains(text(),'⌋') and not(parent::*[@style = 'ros'])	pre-inline=imp rgi rgm	pre	This \\brk SFM should only occur immediately after an \\imp* or \\rgi* SFM, except if in a \\ros ...\\ros*.		XXD 	XXD 7:3 ml1[2]		
TNDD	SC8	8	TRUE	char	brk	9	contains(text(),'⌋')	preceding-sibling::*[1]/text() != preceding-sibling::node()[1]/text() and not(preceding-sibling::node()[1]/child::*)	pre	There should not be a space between \\imp* and \\brk.	This rule is covered by rule 7	XXD 3:1 \ml1[2] 31:2 \qp[1]			
TNDD	SFM 17	9		char	brk	5	contains(text(),'⌋') and not(position() = last())	not(translate(substring($postsibnode1,1,1),'+ ,.?!:;”’)','_++++++++++') = '+')	post	This \\brk SFM is not followed by a space or punctuation					
TNDD	SC9	10		char	brk	5	string-length(text()) != 1			This \\brk SFM can contain only ⌊ or ⌋ but this does not match either of those.					
TNDD	SFM15	11	TRUE	char	imp	5	following-sibling::node()[1][@style = 'brk']	not(contains(following-sibling::node()[1]/text(),'⌋'))	post	This \\imp...\\imp* should be followed by \\bk ⌋\\bk*	Covered by rules 10 and 12				
TNDD	SFM14	12		char	imp	5	post-inline=brk rgi rgm		post	This implied bracket sequence is incomplete or incorrect (it should be: \\brk ⌊\\brk*\\imp...\\imp*\\brk ⌋\\brk*)					
TNDD	SFM16	13		char	imp	8	pre-inline=brk rgi		pre	This \\imp...\\imp* should be preceded by \\bk ⌊\\bk* or a \\rgi and a space.					
TNDD	SFM13	14	TRUE	char	imp	5	string-length(text()) > 0	not(preceding-sibling::node()[1]/@style = 'brk')	pre	This \\imp SFM should be preceded like this \\bk ⌊\\bk*\\imp...\\imp*	handled by rule 13				
TNDD	SC6	15		char	rgi	5	preceding-sibling::node()[1] = preceding-sibling::text()[1]	translate(substring(preceding-sibling::text()[1],string-length(preceding-sibling::text()[1]),1),' ,.?!):”’','#########') = '#'	pre	The \\rgi should be immediately after the word it modifies.					
TNDD	SC7	16		char	rgm	5	preceding-sibling::node()[1] = preceding-sibling::text()[1]	translate(substring(preceding-sibling::text()[1],string-length(preceding-sibling::text()[1]),1),' ,.?!):”’','#########') = '#'	pre	The \\rgm should be immediately after the word it modifies.					
TNDD	SC4.1	17		char	tbb	5	not(text() = '__')			There should be only two underscore characters in the \tbb __\tbb*.					
TNDD	SC1.4	18		char	tbb	5	preceding-sibling::node()[1]/text() != preceding-sibling::*[1]/text()		pre	There should not be a space before a \tbb SFM	Modified so HTML matches PT				
TNDD	SC1.3	19		char	tbb	10	substring(following-sibling::node()[1],1,1) = ' '		post	There should not be a space after a \tbb* SFM					
TNDD	SFM1	20	TRUE	char		11	@closed = 'false'	substring(@style,1,1) != 'f'		This character SFM is not closed. No end marker was found.					
TNDD	SFM11	21	TRUE	char		5	child::char	not(substring(@style,1,1) = '+'))		This SFM is embedded in another character SFM and does not start with a +.	Not checkable in USX				
TNDD	SFM12	22	TRUE	char		8	not(child::char)	substring(@style,1,1) = '+'		This character SFM is marked as embedded but is not in another character SFM.	Not checkable in USX				
TNDD	SFM3	23	TRUE	char		0	string-length(text()) = 0 and not(*)			This character SFM is empty					
TNDD	SC7	24		char		0	not(@style = 'ros' or @closed)	substring(node()[last()],string-length(text()[last()]),1) = ' '   and not(count(following-sibling::node()) = 0) 		There is a space before the closing SFM. Best to put the space after the close, except that the space should be after the numeral in a \\ros.		XXD 1:2 			
TNDD	SC2	25	TRUE	para	b	5	following-sibling::*[1][name() = 'table'] or following-sibling::*[1][@style = 'sl1']	preceding::*[name() = 'verse'][1][@number = 1]		This \\b SFM is not allowed here, After Verse 1 and before a section header in \\tr.	IM: also caught by 81 so disabled.				
TNDD	SFM7	26		para	ml1	8	(*[@style = 'tbb'] and not(contains(text(),'¶'))) or (contains(text(),'¶') and not(*[@style = 'tbb']))			A Pilcrow character ¶ should be followed by a \\tbb at the start of this paragraph	Handled by rule 29				
TNDD	SC15	27	TRUE	para	ml1	8	count(node()) = count(char)			This \\ml1 paragraph has only character SFMs but no text.					
TNDD	SC14	28	TRUE	para	ml1	5	count(char) = count(node())			There is no plain text in this paragraph.	Covered by rule 33				
TNDD	SFM6	29		para	ml1	8	count(char[@style = 'tbb']) = 1	not(child::node()[2][@style = 'tbb'])		The \\tbb SFM should be second after a ¶ paragraph marker					
TNDD	SC2	30		para	ml1	5	pre=mlor sl1 sla gn		pre	The paragraph before this paragraph should be \\sl1 or \\mlor		mlor sl1 sla gn			
TNDD	SC5	31		para	ml1	5	(contains( preceding-sibling::*[2][@style = 'ml1']/text(),'¶') or preceding-sibling::*[2][@style = 'ml1']/*[1][@style  = 'tbb']) and preceding-sibling::*[1][@style = 'mlor']	not(child::node()[@style = 'tbb'])  or not(contains(text(),'¶'))	pre	The preceding \\ml1 has a ¶\\tbb __\\tbb* so this one should too.					
TNDD	SC4.2	32		para	ml1	5	preceding-sibling::*[2][name() = 'table']	not(child::node()[@style = 'tbb'])		There is no ¶\\tbb __\\tbb* in this paragraph. It follows a section header \\tr so it is required.					
TNDD	SFM9	33		para	ml1	10	string-length(text()) = 0 and count(*) = 0			This \\ml1 should not be empty. If there is no content, remove it and the \\mlor preceding it.					
TNDD	REL4	34	TRUE	para	mlor	3	following-sibling::*[1][@style = 'rem']	post=ml1	post	A \\ml1 should follow the \\rem the follows this \\mlor.	Can't find a way to handle rem paragraphs in the middel of ml1 and mlor				
TNDD	REL3	35		para	mlor	7	post=ml1		post	There is no \\ml1 line following this \\mlor. Delete this line or addd a \\ml1 line		ml1			
TNDD	REL2	36		para	mlor	7	pre=ml1		pre	A \\ml1 should preceed this \\mlor		ml1			
TNDD	SC12	37		para	mlor	5	count(*) = 0	not(text() = '-or-')		The content of this \\\mlor SFM can only be: -or-					
TNDD	REL3	38	TRUE	para	mlor	3	preceding-sibling::*[1][@style = 'rem']	pre=ml1	pre2	A \\ml1 should preceed the \\rem  that preceeds this \\mlor.	Can't find a way to handle rem paragraphs in the middel of ml1 and mlor				
TNDD	SC13	39	TRUE	para	p	8	not(following-sibling::*[1]/@style = 'sl1' or following-sibling::table[1])			This paragraph SFM is not allowed here.					
TNDD	SC11	40		para	p	8	preceding-sibling::*[1][@style = 'p'] and child::verse		pre	The preceding \\p is not allowed here.					
TNDD	REL1	41		para	sl1	7	not(child::char[@style = 'tei'])	post=ml1 sla pvr gn	post	The paragraph following this paragraph should be \\ml1 or \\sla or this should be a \\sla instead.					
TNDD	SFM10	42	TRUE	para		5	@status = 'unknown'			There is a backslash without an SFM					
TNDD	SFM6	43		para		0	string-length(text()) = 0 and not(*)	not(@style = 'b' or @style = 'b2' or @style = 'ntn' or @style = 'mt9' or @style = 'rem')		This paragraph marker is empty, and may not be allowed here.					
TNDD	SFM17	44		row	tr	5	count(cell) != 1	preceding::chapter		The SFM \\tr must have a \\tc1 following the \\tr.					
TNDD	SFM17	44.2		row	tr	5	count(cell) = 1 and cell[1][@style != 'tc1']	preceding::chapter		The SFM \\tr must have a \\tc1 following the \\tr.					
TNDD	SFM17	44.3		row	tr	5	count(cell) > 1	preceding::chapter		The SFM \\tr must have only one \\tc(1) following the \\tr.					
TNDD	SC3	45	TRUE	row	tr	10	preceding-sibling::*[1][@style = 'tr']	preceding::chapter		Only one \\tr is allowed in this positions.					
TNDD	SFM4	46	TRUE	table		10	not(count(row) = 1)			There should only be one \\tr here.					
TNDD	SC6	47		char	rgi	5	following-sibling::node()[1] = following-sibling::text()[1]	translate(substring(following-sibling::text()[1],1,1),$letulc,$letulcsub) = '$'	post	A letter should not immediately follow an \\rgi*.					
TNDD	SC7	48		char	rgm	5	following-sibling::node()[1] = following-sibling::text()[1]	translate(substring(following-sibling::text()[1],1,1),$letulc,$letulcsub) = '$'	post	A letter should not immediately follow an \\rgm*.					
TNDD	SC6	49		char	rgi	5	not(parent::*[@style = 'imp'] or preceding-sibling::*[1][@style = 'imp'])			This \\rgi SFM should be embedded in a \\imp SFM like this \\+rgi	working				
TNDD		50	TRUE	para	pvr	5	not(following-sibling::*[1][@style = 'sl1'] or (following-sibling::*[1][@style = 'rem' and following-sibling::*[2][@style = 'sl1']) or (following-sibling::*[1][@style = 'b2' and following-sibling::*[2][@style = 'sla']) or (following-sibling::*[1][@style = 'b' and following-sibling::*[2][name() = 'table']))		post	A \\pvr must occur before an \\sl1 or a \\b2 \\sla combination or a \\b \\tr (section) combination.	post=sl1 sla b2				
TNDD		50.1		para	pvr	5	not(following-sibling::*[1][@style = 'sl1' or @style = 'rem' or @style = 'b2' or @style = 'b'])		post	A \\pvr must occur before an \\sl1 or a \\b2 \\sla combination or a \\b \\tr (section) combination.					
TNDD		50.2		para	pvr	6	following-sibling::*[1][@style = 'rem']	not(following-sibling::*[2][@style = 'sl1' or @style = 'b2' or @style = 'b'])	post	A \\pvr must occur before an \\sl1 or a \\b2 \\sla combination or a \\b \\tr (section) combination.					
TNDD		50.3		para	pvr	6	following-sibling::*[1][@style = 'b2']	not(following-sibling::*[2][@style = 'sla'])	post	A \\pvr must occur before an \\sl1 or a \\b2 \\sla combination or a \\b \\tr (section) combination.					
TNDD		50.4		para	pvr	6	following-sibling::*[1][@style = 'b']	not(following-sibling::*[2][name() = 'table'])	post	A \\pvr must occur before an \\sl1 or a \\b2 \\sla combination or a \\b \\tr (section) combination.					
TNDD		51		para	sl1	5	not(*[@style = 'tbb'])			This paragraph is missing a \\tbb __\\tbb* after the verse reference.					
TNDD		52		para	sla	5	post=gn ml1 sl1		post	The following is not \\gn or \\ml1 or \\sl1		gn ml1 sl1			
TNDD		53		para	gn	5	post=ml1		post	The following is not \\ml1		ml1			
TNDD		54		para	gn	5	pre=sl1 sla		pre	The preceding is not \\sl1 or \\sla		sl1 sla			
TNDD		55		para	b	5	post=p sl1 tr b3 c b mt_ ntn		post	The following is not \\p or \\sl1 or \\tr or \\b3 or \\c or \\b or \\mt_ or \\ntn		p sl1 tr b3 c b mt_ ntn			
TNDD		56		note	f	5	parent::*[@style = 'ml1']	pre=ros	pre	This footnote is not in the standard example footnote formatting for TNDD (\\ros \\+brk...).					
TNDD		57		note	f	5	parent::*[@style = 'ml1']	post=ros	post	This footnote is not in the standard example footnote formatting for TNDD (\\ros \\+brk...).					
TNDD		58		para	b	6	pre=p io1 ml1 ntn b mt_ pvr tr c		pre	The preceding is not \\p or \\io1 or \\ml1 or \\ntn or \\b or \\mt_ or \\pvr or \\tr or \\c					
TNDD		59	TRUE	para	heb	5	pre=sla		pre	The preceding is not \\sla					
TNDD		60	TRUE	para	heb	5	post=ml1		post	The following is not \\ml1					
TNDD		61		para	ml1	5	count(following-sibling::*) > 0	post=mlor sl1 p b b3 c	post	The following is not \\mlor or \\sl1 or \\p or \\b or \\b3 or \\c					
TNDD		62		para	p	5	pre=b b3 ml1 c tr sl1 mt2		pre	The preceding is not \\b or \\b3 or \\ml1 or \\c or \\tr or \\sl1 or \\mt2					
TNDD		63		para	sla	5	pre=sl1 b2		pre	The preceding is not \\sl1 or \\b2					
TNDD		64	TRUE	table		5	pre=b b3		pre	The preceding is not \\b or \\b3					
TNDD		65		table		5	post=sl1 pvr	$prechapter != 119	post	The following is not \\sl1 or \\pvr. In Psalms 119, \\mt9 is allowed.					
TNDD		66		char	ros	5	not(count(char[@style = 'brk']) = 1) and not(text())			There is no embedded \\+brk in this \\ros					
TNDD		67	TRUE	para	sl1	8	count(*[@style = 'f']) > 0			Footnotes are not allowed in the \\sl1 SFM					
TNDD		68		para	sl1	3	contains(text()[1],' ')			The verse reference in \\sl1 appears to have a space in it.					
TNDD		69		para	sl1	3	pre=ml1 mt9 ntn p pvr sla tr b3 b		pre	Before an \\sl1 can only be a \\p, \\b3, \\ml1, \\mt9 (Psalm 119 only), \\ntn (only for a note to the MTT about the following text), \\pvr (short note to the MTT), \\sla (only to show a whole verse in an alternate source text), or a \\b (above a new paragraph mark in the \\ml1 line).					
TNDD		70	TRUE	table		3	pre=p b2 b		pre	The preceding is not \\p or \\b2 or \\b					
TNDD		71		para	pvr	3	pre=tr sl1 p b3		pre	The preceding is not \\tr or \\sl1 or \\p or \\b3					
TNDD		72	TRUE	para	pra	8	pre=ntn		pre	The preceding is not \\ntn					
TNDD		73	TRUE	para	ntn	8	pre=tr pra ntn mt_ li1		pre	The preceding is not \\tr or \\pra or \\ntn or \\mt_ or \\li1					
TNDD		74	TRUE	note	f	2	not(translate(substring(*[@style = 'ft'][last()]/text(),string-length(*[@style = 'ft'][last()]/text()),1) ,'?!:;','....') = '.')			This footnote does not end in acceptable punctuation . or ? or ! or : or ;					
TNDD		75	TRUE	char	fr	3	not(translate(substring(substring-before(.,':'),string-length(substring-before(.,':')),1),'123456789','000000000') = '0')			The chapter reference is not a number					
TNDD		75.2	TRUE	char	fr		self::*			The \\fr and verse reference are not used in TNDD.					
TNDD		76	TRUE	char	fr	2	not(translate(substring(substring-after(.,':'),1,1),'123456789','000000000') = '0')			The verse reference is not a number.					
TNDD		77	TRUE	para	ml1	5	count(*[@style = 'tbb']) > 0 and preceding-sibling::*[1][not(@style = 'mlor')] and not( preceding-sibling::*[4][@style = 'c'] or preceding-sibling::*[5][@style = 'c'] or preceding-sibling::*[6][@style = 'c'])	not(preceding-sibling::*[2][@style = 'b'] or preceding-sibling::*[3][@style = 'b'] or preceding-sibling::*[4][@style = 'b'] or preceding-sibling::*[5][@style = 'b'])	pre	There should be a \\b immediately after the preceding \\ml1	Email: Steve C 2022-01-06 check for \b before \ml1 with \tbb		Mrk 2:6a		
TNDD		78	TRUE	para	ml1	5	(contains(following-sibling::*[@style = 'ml1'][1]/text(),'¶') and not(following-sibling::*[2]/@style = 'c') and not(following-sibling::*[1]/@style = 'c')) and  not(following-sibling::*[1]/@style = 'mlor')	 not(following-sibling::*[1]/@style = 'b')	post	There should be a \\b immediately after this \\ml1 because the next verse or verse part is a new paragraph.	Ian' alternate to 77. Not approved as at 2022-01-07				
TNDD		78.2		para	p	5	following-sibling::*[1][name() = 'table'] and not( preceding-sibling::*[1][@style = 'c'] or preceding-sibling::*[2][@style = 'c'])	pre=b	post	There should be a \\b above this \\p before a section heading.	Ian' alternate to 77. Not approved as at 2022-01-07				
TNDD		79		para	p	5	count(verse) > 0 and following-sibling::*[1][@style = 'b']		post	There should not be a \\b after this, but it could go before	Ian's check when \b follows \p containing a verse.				
TNDD		80		para	b	5	preceding-sibling::*[1][@style = 'c']	following-sibling::*[1][@style = 'p']	pre	A \\b is not allowed between a \\c and a \\p	Email: Steve C 2022-01-13;				
TNDD	SC	80.2		para	b	5	preceding-sibling::*[1][@style = 'c']	following-sibling::*[1][@style = 'b3']	pre	A \\b is not allowed between a \\c and a \\b3	Email Steve C 2024-08-07	XXD180			
TNDD		81		para	b	5	preceding-sibling::*[1][@style = 'p'][child::*[@style = 'v']]	following-sibling::*[1][@style = 'sl1'] or following-sibling::*[1][name() = 'table']		A \\b is not allowed between a \\p and a \\sl1 or \\tr	Email: Steve C 2022-01-13;				
TNDD	IM	82.1		para	sl1		$prechapter != $sl1c			The chapter number in this \\sl1 is incorrect.					
TNDD	IM	82.2		para	sl1		$precleanverse != translate($sl1v,'-','')			The verse number in this \\sl1 is incorrect, unless you are covering a span of verses.					
TNDD	IM	82.3		char	sbx		contains(translate(text(),$numb,$numbsub),'#:#')	$prechapter != $sbxc		The chapter number in this \\sbx is incorrect.					
TNDD	IM	82.4	TRUE	char	sbx		translate($preverse,'-','') != translate($sbxv,'-','')			The verse number in this \\sbx is incorrect.					
TNDD	SC	83.1		char	ros		not(substring(node()[last()],string-length(text()[last()]),1) = ' ' )  or $postnodechar1 = ' '	not(child::*[@style = 'brk'])		The space must be before the \\ros*, and no space after it.					
TNDD	SC	83.2	TRUE	char	ros										
TNDD	SC	83.3		para	sl1		contains(translate(text()[1],$numb,$numbsub),'#:#')	contains(translate(translate(text()[1],$letlc,''),$numb,$numbsub),'#-#')		The hyphen in the verse range in this \\sl1 should be an en dash.					
TNDD	SC	83.32		para	sl1		contains(translate(text()[1],$numb,$numbsub),'#:#')	contains(translate(translate(text()[1],$numb,$numbsub),$letlc,$letsub),'#$-$')		The hyphen in the verse range in this \\sl1 should be an en dash.					
TNDD	SC	83.4		cell			contains(translate(text(),$numb,$numbsub),'#:#')	contains(translate(translate(.,$letlc,''),$numb,$numbsub),'#-#')	mid	The hyphen in a verse range in this \\tr \\tc1 should be an en dash.		XXD 9:5 1:12			
TNDD	SC	83.5		char	sbx		contains(translate(.,$numb,$numbsub),'#:#')	contains(translate(translate(.,$letlc,''),$numb,$numbsub),'#-#')	mid	The hyphen in the \\sbx verse range in this paragraph should be an en dash.		XXD 9:6			
TNDD	SC	83.6		verse	v		contains(@number,'–')		mid	The en dash in the verse range in this \\v must be a hyphen.					
TNDD	SC	83.7		verse	v		contains(translate(@number,$validcvnumblet,$validcvnumbletsub),'#$-#') or contains(translate(@number,$validcvnumblet,$validcvnumbletsub),'#$')		mid	A \\v cannot have verse parts in it.					
TNDD	SC	83.8		char	fr		contains(translate(text(),$numb,$numbsub),'#:#')	contains(translate(translate(.,$numb,''),$validvlet,$validvletsub),'$-$')	mid	The hyphen in the verse range in this \\fr should be an en dash.					
TNDD	SC	83.9		char	fr		contains(translate(text(),$numb,$numbsub),'#:#')	contains(translate(translate(.,$letlc,''),$numb,$numbsub),'#-#')	mid	The hyphen in the verse range in this \\fr should be an en dash.					
TNDD	SC	83.11		char	ft		contains(translate(text(),$numb,$numbsub),'#:#')	contains(translate(translate(.,$letlc,''),$numb,$numbsub),'#-#')	mid	The hyphen in the verse range in this \\ft should be an en dash.					
TNDD	SC	83.12		char	ft		contains(translate(text(),$numb,$numbsub),'#:#')	contains(translate(translate(text(),$numb,$numbsub),$validvlet,$validvletsub),'#$-$')	mid	The hyphen in the verse range in this \\ft should be an en dash.					
TNDD	SC	84.1		para	b3	8	not(verse)		mid	A \\b3 paragraph must contain a \\v.					
TNDD	SC	84.2		para	p	8	not(verse)		mid	A \\p paragraph must contain a \\v.					
TNDD	SC	85.1		char	sbx		$hascvref and not(contains($preverse,'-')) and contains(.,'–')	$refcolonvr1 != $preverse	mid	The first verse of the range in this \\sbx does not match the current verse number in \\v above.					
TNDD	SC	85.2		char	sbx		$hascvref and not(contains($preverse,'-'))  and not(contains(.,'–'))	$refcolonv != $preverse	mid	The verse in this \\sbx does not match the current verse number in \\v above. (Or you maybe using an em dash rather than an en dash.)					
TNDD	SC	85.3		char	sbx		$hasspacecref  and $hascvref 	$refwordschapcolon != $prechapter	mid	The chapter in this \\sbx does not match the current chapter number.					
TNDD	SC	85.4		char	sbx		$numbfirst and $hascvref	$refchapcolon != $prechapter	mid	The chapter in this \\sbx does not match the current chapter number.					
TNDD	SC	86		para	b		count(node()) > 0		mid	A \\b paragraph should be empty.					
TNDD	SC	87.1		para		5	contains(.,$sq) or contains(.,$dq) 		mid	This paragraph contains a straight quote mark. It should be a curly quote mark.					
TNDD	SC	87.2		char		5	contains(.,$sq) or contains(.,$dq) 		mid	This character SFM contains a straight quote mark. It should be a curly quote mark.					
TNDD	SC	87.3		cell		5	contains(.,$sq) or contains(.,$dq) 		mid	This table cell contains a straight quote mark. It should be a curly quote mark.					
TNDD		88.1	TRUE	para	ml1	0	not($presl1Ldq = $containsLdq)		mid	This \\ml1 does not have a left double quote like the \\sl1, or has the wrong quote mark, or has one when the \\sl1 does not, or you have changed it to an indirect quote.					
TNDD		88.11		para	ml1	0	$curfirstchar = '¶' and $presl1textposttbbchar1 = $ldq	$curfirstcharposttab != $ldq and $curfirstcharposttab != $lsq	mid	This \\ml1 does not start with a left double quote like the \\sl1, or you have changed it to an indirect quote.		88.2b ml1[1]			
TNDD		88.12		para	ml1	1	$curfirstchar != '¶' and $presl1textposttbbchar1 = $ldq	$curfirstchar != $ldq and $curfirstchar != $lsq	mid	This \\ml1 does not start with a left double quote like the \\sl1, or you have changed it to an indirect quote.		88:2a ml1[1]			
TNDD		88.13		para	ml1	3	$curfirstchar = '¶' and $curfirstcharposttab = $ldq	$presl1textposttbbchar1 != $ldq and $presl1textposttbbchar1 != $lsq	mid	This \\ml1 starts with a left double quote when the \\sl1 does not.					
TNDD		88.14		para	ml1	2	$curfirstchar != '¶' and $curfirstchar = $ldq	$presl1textposttbbchar1 != $ldq and $presl1textposttbbchar1 != $lsq	mid	This \\ml1 starts with a left double quote when the \\sl1 does not.		88.4d ml1[1]			
TNDD		88.2	TRUE	para	ml1	5	not($presl1Rdq = $containsRdq) and $curfirstchar != $ldq		mid	This \\ml1 does not have a right double quote like the \\sl1, or has the wrong quote mark, or has one when the \\sl1 does not, or you have changed it to an indirect quote.					
TNDD		88.21		para	ml1	6	$presl1textcharlast = $rdq	$curlastchar != $rdq and $curlastchar != $rsq and $curlastchar != ')'	mid	This \\ml1 does not end with a right double quote like the \\sl1, or you have changed it to an indirect quote.		88:2a ml1[2]			
TNDD		88.22		para	ml1	8	$curlastchar = $rdq	$presl1textcharlast != $rdq and $presl1textcharlast != $rsq and $curlastchar != ')'	mid	This \\ml1 ends with a right double quote when the \\sl1 does not, or you have changed it to a direct quote.		88.2d ml1[2]			
TNDD		88.23		para	ml1	6	$curlastchar = ')' and $presl1textcharlast = $rdq	$curlastcharb4lb != $rdq and $curlastcharb4lb != $rsq	mid	This \\ml1 does not end with a right double quote like the \\sl1, or you have changed it to an indirect quote.		88:10			
TNDD		88.24		para	ml1	8	$curlastchar = ')' and $curlastcharb4lb = $rdq	$presl1textcharlast != $rdq and $presl1textcharlast != $rsq	mid	This \\ml1 ends with a right double quote when the \\sl1 does not, or you have changed it to a direct quote.		88:10			
TNDD		88.3	TRUE	para	ml1	0	not($presl1Lsq = $containsLsq)		mid	This \\ml1 does not have a left single quote like the \\sl1, or you have changed it to an indirect quote.					
TNDD		88.31		para	ml1	0	$curfirstchar = '¶' and $presl1textposttbbchar1 = $lsq	$curfirstcharposttab != $lsq and $curfirstcharposttab != $ldq	mid	This \\ml1 does not start with a left single quote like the \\sl1, or you have changed it to an indirect quote.		88:4a			
TNDD		88.32		para	ml1	0	$curfirstchar = '¶' and $curfirstcharposttab = $lsq	$presl1textposttbbchar1 != $lsq and $presl1textposttbbchar1 != $ldq	mid	This \\ml1 starts with a left single quote when the \\sl1 does not, or you have changed it to a direct quote.		88:4e			
TNDD		88.33		para	ml1	0	$curfirstchar != '¶' and $presl1textposttbbchar1 = $lsq	$curfirstchar != $lsq and $curfirstchar != $ldq	mid	This \\ml1 has no left single quote when the \\sl1 starts with one, or you have changed it to an indirect quote.		88:4b			
TNDD		88.34		para	ml1	0	$curfirstchar != '¶' and $curfirstchar = $lsq	$presl1textposttbbchar1 != $lsq and $presl1textposttbbchar1 != $ldq	mid	This \\ml1 starts with a left single quote but the \\sl1 has none, or you have changed it to a direct quote.		88:4f			
TNDD		88.4	TRUE	para	ml1	5	not($presl1Rsq = $containsRsq)	$containsRsq	mid	This \\ml1 has a right single quote when the \\sl1 does not.					
TNDD		88.41		para	ml1	5	$presl1textcharlast = $rsq	$curlastchar != $rsq and $curlastchar != $rdq and $curlastchar != ')'	mid	This \\ml1 does not have a right single quote like the \\sl1, or you have changed it to an indirect quote.		88:4a			
TNDD		88.42		para	ml1	5	$curlastchar = $rsq	$presl1textcharlast != $rsq and $presl1textcharlast != $rdq and $curlastchar != ')'	mid	This \\ml1 has a right  single quote when the \\sl1 does not, or you have changed it to a direct quote.		88:4b			
TNDD		88.43		para	ml1	5	$curlastchar = ')' and $presl1textcharlast = $rsq	$curlastcharb4lb != $rsq and $curlastcharb4lb != $rdq	mid	This \\ml1 does not have a right single quote like the \\sl1, or you have changed it to an indirect quote.		88:10			
TNDD		88.44		para	ml1	5	$curlastchar = ')' and $curlastcharb4lb = $rsq	$presl1textcharlast != $rsq and $presl1textcharlast != $rdq	mid	This \\ml1 has a right  single quote when the \\sl1 does not, or you have changed it to a direct quote.		88:10			
TNDD			TRUE	para	ml1										
TNDD		88.51		para	ml1	8	$curfirstchar = '¶' and $curfirstcharposttab = $ldq	$presl1textposttbbchar1 = $lsq	mid	This \\ml1 starts with a left double quote when the \\sl1 starts with a left double single quote.		88:5a			
TNDD		88.52		para	ml1	8	$curfirstchar = $ldq	$presl1textposttbbchar1 = $lsq	mid	This \\ml1 starts with a left double quote when the \\sl1 starts with a left single quote.		88:4d			
TNDD		88.53		para	ml1	0	$curfirstchar = '¶' and $curfirstcharposttab = $lsq	$presl1textposttbbchar1 = $ldq	mid	This \\ml1 starts with a left single quote when the \\sl1 ends with a left double quote.		88:5c			
TNDD		88.54		para	ml1	8	$curfirstchar = $lsq	$presl1textposttbbchar1 = $ldq	mid	This \\ml1 starts with a left single quote when the \\sl1 starts with a left double quote.		88:5c			
TNDD		88.55		para	ml1	8	$curlastchar = $rdq	$presl1textcharlast = $rsq	mid	This \\ml1 ends with a right double quote when the \\sl1 ends with a right single quote.		88:5a			
TNDD		88.56		para	ml1	8	$curlastchar = $rsq	$presl1textcharlast = $rdq	mid	This \\ml1 ends with a right single quote when the \\sl1 ends with a right double quote.		88:5c			
TNDD		88.57		para	ml1	8	$curlastchar = ')' and $curlastcharb4lb = $rdq	$presl1textcharlast = $rsq	mid	This \\ml1 ends with a right double quote when the \\sl1 ends with a right single quote.		88:10			
TNDD		88.58		para	ml1	8	$curlastchar = ')' and $curlastcharb4lb = $rsq	$presl1textcharlast = $rdq	mid	This \\ml1 ends with a right single quote when the \\sl1 ends with a right double quote.		88:10			
TNDD		88.5	TRUE	para	ml1	5	not($presl1Rsq = $containsRsq)	$presl1Rsq	mid	This \\ml1 does not have a right single quote like the \\sl1.					
TNDD		88.6	TRUE	para	ml1	5	not($postRsqcount = $presl1postRsqcount)	not($presl1postRsqchar1sub = '$') and not($postRsqchar1sub = '$')		This \\ml1 does not have the same count of right single quote characters as the \\sl1.					
TNDD		89	TRUE	char		9	preceding-sibling::*[1]/@style = @style and preceding-sibling::*[1]/@style != 'brk'	preceding::text()[1] = ' '	pre	There is an erroneous \\xxx* \\xxx, where ‘xxx’ is the same in both cases.		89:1			
TNND	149	1.1		para	b3	8	not(verse)		mid	A \\b3 paragraph must contain a \\v.		XXD  1:1			
TNND	150	1.2		para	p	8	not(verse)		mid	A \\p paragraph must contain a \\v.		XXD  1:1			
TNND	151	1.3	TRUE	verse	v		not($parent = 'p')	not($parent = 'b3')		\\v must be in a \\p or \\b3			-		
TNND	152	2.1	TRUE							This is not used			-		
TNND	153	3.1	TRUE	table			not(following-sibling::*[2][@style = 's5'] )			The \\tr is not followed by a \\s5 after a \\ntn	SC 22 Dec: Refinement: It is incorrect to have the \s5 above a \tr, \b or not.		-		
TNND	154	3.21	TRUE	para	p		$next1-3-21 > $next2-3-21			A \\p containg a \\v must have a \\s5 following it.	SC 22 Dec: See XXD 3.6, \p \v \n1 sequence should be flagged. Also a \p \v \b \n1 sequence s/b flagged too.		-		
TNND	155	3.22	TRUE	para	b3		$next1-3-22 > $next2-3-22			A \\b3 containg a \\v must have a \\s5 following it.	SC 22 Dec: Ditto above but for \b3 ...		-		
TNND	156	4.1	TRUE	table			not(preceding-sibling::*[1][@style = 'b'])			The \\tr should be preceeded by a \\b.	(SC: redundant with 7.3)		-		
TNND	157	4.2		row	tr		cell[2]/@style = 'tc1'			The second column must be a \\tc2 in \\tr.		XXD  1:2			
TNND	158	4.3		row	tr		cell[1]/@style = 'tc2'			The first column must be a \\tc1 in \\tr.		XXD  1:3			
TNND	159	4.4		cell	tc1		count(following-sibling::cell) = 0 and @style = 'tc1'	not(*[@style = 'sbx'] or contains(text(),'Paragraph'))	mid	A \\tc1 must contain either an \\sbx or the word ‘Paragraph’.		xxd 1:4			
TNND	160	4.5	TRUE	char	sbx	2	following-sibling::*[2][@style = 'sbx']	not(following-sibling::node()[1]/@style = 'tbb']		A \\tbb must follow this \\sbx.	(SC: redundant with 4.7 & 4.8)		-		
TNND	161	4.6	TRUE	char	sbx		not(following-sibling::*[2][@style = 'sbx'] and following-sibling::*[1][@style = 'tbb'])	not(*[@style = '+tbb'])		The parts of the \\sbx should be separated by a \\+tbb __\\+tbb*.	(SC: redundant with 4.7 & 4.8)		-		
TNND	162	4.7		cell	tc1		$countsbx > 1	$counttbb + 1 != $countsbx	mid	These \\sbx should be separated by \\tbb __\\tbb*.		XXD 1:5			
TNND	163	4.8		cell	tc1		$countsbx = 1	count(*/*[@style = '+tbb']) = 0 and $counttbb = 0	mid	The address and the heading should be separated by this: \\sbx*\\tbb __\\tbb*\\sbx .		XXD 1:5			
TNND	164	4.9		cell	tc1	5	$countprenode > 1			A \\tc1 can only occur as the first SFM in a \\tr.	2023-03-27 addded to show instead of 4.4 in XXD 1:2 first \tr	XXD 1:2			
TNND	165	5.1	TRUE	para	s5		pre=b3		pre	A \\b3 must occur before a \\s5	SC 22 Dec: I put in an example for this test at xxd 5.1		-		
TNND	166	5.2	TRUE							nothing	SC 22 Dec: Like 5.1, this test should be written for \s5 and  \p. I put in an example for this test at xxd 105.1		-		
TNND	167	6.1		table			$containspart and $hasfollowingtable	$notposttabledivision	post	When you have a Part Box, a Division Box must occur after the Part summary.  (But any \tr in the Part summary will cause a false positive.)		XXD 6:2			
TNND	168	6.11	TRUE	char	sbx		contains(text(),'Section ')	not(containing(preceding::row[1]//*[1]/text(),'Division')		When you have a '\\tr \tc1 \\sbx Part ...' the following \\tr should have have '\\tr \tc1 \\sbx Division ...'			-		
TNND	169	6.2		table			$containsdivision and $hasfollowingtable	$notposttablesection	post	When you have a Division Box, a Section Box must occur after the Division summary. (But any \tr in the Div. summary will cause a false positive.)		XXD 6:3			
TNND	170	6.3		table			$containssection and $hasfollowingtable	$notposttableparagraph	post	When you have a Section Box, a Paragraph Box must occur after the Section summary. (But any \\tr in the Section summary will cause a false positive.)		XXD 6:4,5			
TNND	171	6.4	TRUE	row	tr		$hastrpart and not($parentpresib2 = 'c')	not($parentpresib = 'b' or ($parentpresib2 = 'b' and $parentpresib = 'b3') or ($parentpresib2 = 'b' and $parentpresib = 'p'))	pre	A \\tr must be preceded by a \\b immediately before it or before the \\b3 or \\p above it.		XXD 6:4	-		
TNND	172	6.5	TRUE	row	tr		$hastrdivision and not($parentpresib2 = 'c')	not($parentpresib = 'b' or ($parentpresib2 = 'b' and $parentpresib = 'b3') or ($parentpresib2 = 'b' and $parentpresib = 'p'))	pre	A \\tr must be preceded by a \\b imediately before or before the \\b3 or \\p		XXD 7:10	-		
TNND	173	6.6	TRUE	row	tr		$hastrsection and not($parentpresib2 = 'c')	not($parentpresib = 'b' or ($parentpresib2 = 'b' and $parentpresib = 'b3') or ($parentpresib2 = 'b' and $parentpresib = 'p'))	pre	A \\tr must be preceded by a \\b imediately before or before the \\b3 or \\p		XXD 7:11	-		
TNND	174	6.7	TRUE	row	tr		$hastrparagraph and not($parentpresib2 = 'c')	not($parentpresib = 'b' or ($parentpresib2 = 'b' and $parentpresib = 'b3') or ($parentpresib2 = 'b' and $parentpresib = 'p'))	pre	A \\tr must be preceded by a \\b imediately before or before the \\b3 or \\p			-		
TNND	175	6.8		row	tr		$containspart or $containsdivision or $containssection	not($parentpostsib = 'ntn')	post	An \\ntn is used for the summary under a Part, Division or Section Box.		XXD 6:9			
TNND	176	6.9	TRUE	row	tr		$hastrdivision	not($parentpostsib = 'ntn')	post	An \\ntn must follow a Division Box.		XXD 6:8	-		
TNND	177	6.11	TRUE	row	tr		$hastrsection	not($parentpostsib = 'ntn')	post	An \\ntn must follow a Section Box.		XXD 6:7	-		
TNND	178	7.1.1		para	b3		$curverse = 1	$postsib = 'b'	post	A \\b para is not needed after the \\b3 \\v 1 (start of chapter).	IM updated 2023-07-19	XXD 7:1, 4:1, 8:1			
TNND	179	7.1.2		para	p		$curverse = 1	$postsib = 'b'	post	A \\b para is not needed after a \\p \\v 1 (start of chapter).	IM updated 2023-07-19	XXD 17:1, 18:1			
TNND	180	7.1.3		para	b3		$curverse != 1	$presib = 'b'	pre	A \\b should be after the \\b3 \\v stuff, not before it.	IM updated 2023-07-19	XXD 7.2,3			
TNND	181	7.1.4		para	p		$curverse != 1	$presib = 'b'	pre	A \\b should be after the \\p, \\v stuff not before it.	IM updated 2023-07-19	XXD 17:2,3			
TNND	182	7.2		table			($containsdivision or $containspart or $containssection or $containsparagraph) and not($presib2 = 'c')	not($presib = 'b' or ($presib = 'b' and $presib2 = 'b3') or ($presib = 'b' and $presib2 = 'p'))	pre	There should be a \\b before a \\tr (and after the \\p (or b3) \\v paragraph), except at v.1.	 IM updated 2023-07-19	XXD 7:10			
TNND	183	7.3	TRUE	table			$containssection and not($presib2 = 'c')	pre=p b3 b	pre	A \\b must precede a \\p or \\b3 paragraph and a Section Box, except at v.1.	ditto above, but if there is a Division, the \p \v will be above the Division rather than the Section	XXD 7:11	-		
TNND	184	7.4	TRUE	table			contains(row[1]/cell[1]/char[1]/text(),'Part') and not($presib2 = 'c')	pre=p b3 b	pre	A \\b must precede a \\p or \\b3 paragraph and a Part Box, except at v.1.	ditto above	XXD 7:12	-		
TNND	185	7.5	TRUE	table			contains(row[1]/cell[1]/text(),'Paragraph') and not($presib2 = 'c')	pre=p b3 b	pre	A \\b must precede a \\p \\v and a Paragraph Box, except for verse 1.	ditto above	XXD 7:13	-		
TNND	186	7.6	TRUE	table			contains(row[1]/cell[1]/char[1]/text(),'Division') and not(following-sibling::*[1][name() = 'chapter'])	post=s5 tr ntn	post	A \\s5 must follow a \\tr \\tc1 Division if there is no Section Box below it.	SC 22 Mar : messages for 7.6-9 changed.		-		
TNND	187	7.7	TRUE	table			contains(row[1]/cell[1]/char[1]/text(),'Section') and not(following-sibling::*[1][name() = 'chapter'])	post=s5 tr ntn	post	A \\s5 paragraph must follow a \\tr \\tc1 Section if there is no Paragraph Box below it.			XXD 1:13		
TNND	188	7.8	TRUE	table			contains(row[1]/cell[1]/char[1]/text(),'Part') and not(following-sibling::*[1][name() = 'chapter'])	post=s5 tr ntn	post	A \\s5 paragraph must follow a \\tr \\tc1 Part if there is no Division Box below it.		XXD 26:1	-		
TNND	189	7.9	TRUE	table			contains(row[1]/cell[1]/text(),'Paragraph') 	post=s5 tr ntn	post	A \\tr Paragraph Box needs a \\s5, \\tr, or \\ntn after it.		XXD 26:1	-		
TNND	190	7.10.1		para	p		($curverse != 1) and $posttable	not($postsib = 'b' or ( $postsib = 'rem' and $postsib2 = 'b'))	post	A \\tr needs a \\b above it (below the \\p \\v stuff), except @ v.1.	IM updated 2023-07-19	XXD 7:10			
TNND	191	7.10.2		para	b3		($curverse != 1) and $posttable	not($postsib = 'b' or ( $postsib = 'rem' and $postsib2 = 'b'))	post	A \\tr needs a \\b above it (below the \\b3 \\v stuff), except @ v.1.	IM updated 2023-07-19	XXD 7:10-13			
TNND	192	8.1		para	s5		$hascvref and $numbfirst 	$refchapcolon != $prechapter	mid	The chapter number in this \\s5 should match the current chapter number.		XXD 8:1			
TNND	193	8.1.2	TRUE	para	s5		$hascvref and $numbfirst and not($hasvlet)						-		
TNND	194	8.21		para	s5		not($prevhyphen) and not($refvendash) and not($hasvlet)	$currefv != $preverse	mid	The verse number in this \\s5 should match the current verse number.		XXD 8:2			
TNND	195	8.21.2		para	s5		not($prevhyphen) and not($refvendash) and $hasvlet	$currefv != $preverse	mid	The verse number in this \\s5 should match the current verse number.		8:20 (\s5 8:19c)			
TNND	196	8.22		para	s5	5	not($prevhyphen) and $refvendash and not($hasvlet)	$currefv1 != $preverse	mid	The first verse number in the range in this \\s5 should match current verse number.		XXD 8:2			
TNND	197	8.23		para	s5		$prevhyphen and $refvendash and $countpres5post-p = 0	$currefv1 != $preverser1	mid	The first verse number in the range in this \\s5 should match the first number of current verse range.		XXD 8:3-5			
TNND	198	8.24	TRUE	para	s5		contains(.,'.')			This \\s5 should not contain a period.	SC 5 Dec: This test looks redundant to 8:25. Delete?		-		
TNND	199	8.25		para	s5	10	not(contains(.,':'))		mid	This \\s5 must contain a colon between the chapter and verse.		XXD 8:6			
TNND	200	8.26		para	s5		$prevhyphen and not($refvendash)	($currefv < $preverser1) or ($currefv > $preverser2)	mid	The verse number in this \\s5 must be within the preceding \\v verse range.		XXD 8:16-17			
TNND	201	8.27		para	s5		$prevhyphen and $refvendash	($currefv1 < $preverser1) or ($currefv1 > $preverser2) or ($currefv2 < $preverser2) or ($currefv2 > $preverser2)	mid	The verse numbers in this \\s5 verse range must be within the verse range of the preceding \\v.		XXD 8:16-17			
TNND		8.28		para	s5	5	($countsib2next-s5 >= $countsib2next-p and $countnext-s5 = $countnext-p) and $prevhyphen = true() and $refvendash = false()	$preverser2 != $currefv	pre	This \\s5 is the last one in the set, the verse reference in this \\s5 does not match the last verse of the preceding \\p verse range.					
TNND		8.29		para	s5	5	($countsib2next-s5 >= $countsib2next-p and $countnext-s5 = $countnext-p) and $prevhyphen = true() and $refvendash = true()	$preverser2 != $currefv2	pre	This \\s5 is the last one in the set, the last verse reference in this \\s5 does not match the last verse of the preceding \\p verse range.					
TNND		8.31		para	s5				pre	This first \\s5 of the set should include the first verse in the \\v verse range here.					
TNND		8.32		para	s5				pre						
TNND	206	8.3		para	s5		string-length(translate(.,$validcvnumbletpunc,'')) > 0	not($hasreordered)	mid	This \\s5 reference has invalid character(s). Numbers, colon, en dash, and letters a–j are allowed.	SC 22 Dec: Can we make this go to 10 (a-j) rather than 8 (a-h)? 	XXD 8:18			
TNND	207	8.3.1		para	s5		string-length(translate(text()[1],$validreorderedcvnumbletpunc,'')) > 0	$hasreordered and $hastbb	mid	This \\s5 reference has invalid character(s). Numbers, colon, en dash, comma, and letters a–j are allowed.					
TNND	208	8.3.2		para	s5		string-length(translate(.,$validreorderedcvnumbletpunc,'')) > 0	$hasreordered and not($hastbb)	mid	This \\s5 reference is reordered and does not contain a \\tbb between the verse reference and the (reordered) part.					
TNND	209	8.4.1		cell	tc1		$hasspacecref and $hascvref and not(contains($preverse,'-')) and contains(.,'–') and $notsbxchild	$refcolonvr1 != $preverse	mid	The first verse of the range in this Paragraph Box does not match the current verse number in \\v above.		XXD 8:20			
TNND	210	8.4.2		cell	tc1		$hascvref and not(contains($preverse,'-'))  and not(contains(.,'–')) and $containsparagraph	$refcolonvnumb != $preverse	mid	The verse in this Paragraph Box does not match the current verse number in \\v above.		XD 1:15			
TNND	211	8.4.3		char	sbx		$hascvref and not(contains($preverse,'-')) and contains(.,'–')	$refcolonvr1 != $preverse	mid	The first verse of the range in this \\sbx does not match the current verse number in \\v above.		XXD 8:20			
TNND	212	8.4.4		char	sbx		$hascvref and not(contains($preverse,'-'))  and not(contains(.,'–'))	$refcolonv != $preverse	mid	The verse in this \\sbx does not match the current verse number in \\v above. (Or you maybe using an em dash rather than an en dash.)		XXD 1:13 but hidden by #9.6			
TNND	213	8.4.5		char	sbx		$hasspacecref  and $hascvref 	$refwordschapcolon != $prechapter	mid	The chapter in this \\sbx does not match the current chapter number.		XXD 8:19			
TNND	214	8.4.6		cell	tc1		$hasspacecref and $hascvref 	$refwordschapcolon != $prechapter	mid	The chapter in this \\tc1 does not match the current chapter number.	excludes if contains sbx	XXD 8:19			
TNND	215	8.4.7		char	sbx		$numbfirst and $hascvref	$refchapcolon != $prechapter	mid	The chapter in this \\sbx does not match the current chapter number.		XXD 23:1, 4:1			
TNND	216	8.4.8		cell	tc1		$numbfirst and $hascvref and $notmultirowtable and $containsparagraph	$refchapcolon != $prechapter	mid	The chapter in this \\tc1 does not match the current chapter number.	Not sure this ever occurs	XXD 8:3-5			
TNND	217	9.1		para			contains(translate(.,$numb,$numbsub),'#:#')	contains(translate(translate(.,$letlc,''),$numb,$numbsub),'#-#')	mid	The hyphen in a verse range in this paragraph should be an en dash.		XXD 9:1-3		SC 5 Dec: XXD 1:11 has several examples that should be flagged but are not.	
TNND	218	9.11	TRUE	cell	tc1	8	$hascvref	contains(translate(translate(.,$letlc,''),$numb,$numbsub),'#-#')		The hyphen in the verse range in this \\tc1 should be an en dash.			-		
TNND	219	9.12	TRUE	char	sbx		$hascvref and contains(translate(translate(.,$letlc,''),$numb,$numbsub),'#-#')			The hyphen in the verse range in this \\sbx should be an en dash.	SC 22 Dec: yes, delete this test.		-	SC 15 Dec: Since rule 9.11 and 9.12 catch the mistake at XXD 1:13, maybe we don't need this rule?	
TNND	220	9.13	TRUE	para	n1		$hascvref	contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-$') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-#') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'#-#')		The hyphen in a range in this paragraph should be an en dash.	SC 22 Dec: not working.		-		
TNND	221	9.14	TRUE	para	n2		$hascvref	contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-$') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-#') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'#-#')		The hyphen in a range in this paragraph should be an en dash.			-		
TNND	222	9.15	TRUE	para	n3		$hascvref	contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-$') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-#') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'#-#')		The hyphen in a range in this paragraph should be an en dash.			-		
TNND	223	9.16	TRUE	para	s5	8	$hascvref	contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-$') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'$-#') or contains(translate(.,$validcvnumblet,$validcvnumbletsub),'#-#')		The hyphen in a range in this paragraph should be an en dash.			-		
TNND	224	9.17	TRUE	para	ntn		$hascvref	contains(translate(.,$validcvnumblet,$validcvnumbletsub),'#-#')		The hyphen in a range in this paragraph should be an en dash.			-		
TNND	225	9.2		verse	v		contains(@number,'–')		mid	The en dash in the verse range in this \\v must be a hyphen.		XXD 9:1-3			
TNND	226	9.3		verse	v		contains(translate(@number,$validcvnumblet,$validcvnumbletsub),'#$-#') or contains(translate(@number,$validcvnumblet,$validcvnumbletsub),'#$')		mid	A \\v cannot have verse parts in it.		XXD 9:1-3		SC 5 Dec: This test is not working, see XXD 1:20. 	
TNND	227	9.4	TRUE	verse	v		contains(translate(@number,$validcvnumblet,$validcvnumbletsub)),'#$')			A verse number can’t have a verse part letter unless it is in a range.	SC 22 Dec: OK, it looks like rule 9.3 catches all the scenarios I was thinking of.		-	SC 16 Dec: Paratext does not want a letter anywhere in the verse field after the \v. Maybe make 9:3 more general to not allow a letter anywhere in the verse field? Actually, the only allowable characters are digits and the hyphen (between two sets of digits, not at the end, i.e., 23-, or at the beginning).	
TNND	228	9.5		cell			contains(translate(text(),$numb,$numbsub),'#:#')	contains(translate(translate(.,$letlc,''),$numb,$numbsub),'#-#')	mid	The hyphen in a verse range in this \\tr \\tc1 should be an en dash.		XXD 9:5 1:12			
TNND	229	9.6		char			contains(translate(.,$numb,$numbsub),'#:#')	contains(translate(translate(.,$letlc,''),$numb,$numbsub),'#-#')	mid	The hyphen in a verse range in this paragraph should be an en dash.		XXD 9:6			
TNND	230	10.1		para	n1	5	$counttec > 1		mid	There should be only one \\tec per \\n1 paragraph.		XXD 10:1 first \n1			
TNND	231	10.1.2		para	n2	5	$counttec > 1		mid	There not should be two or more \\tec in a \\n2 paragraph.		XXD 10:1 first \n2			
TNND	232	10.1.3		para	n3	5	$counttec > 1		mid	There should be only one \\tec per \\n3 paragraph.		XXD 10:1 first \n3			
TNND	233	10.1.4		para	n1	5	$counttec + $countteu  = 0 		mid	This \\n1 paragraph is missing a \\tec, or perhaps should be a \\n2 or a \\ntn.		XXD 10:1 second \n1			
TNND	234	10.1.5		para	n3	5	$counttec = 0	$counttrs = 0	mid	This \\n3 paragraph is missing a \\tec.		XXD 10:1 second \n3			
TNND	235	10.2.1		char	tec		$countpresibnode > 0		mid	The \\tec should be at the start of the paragraph (or you are not using an \\n1, \\n2, or \\n3 style).		XXD 10:2			
TNND	236	10.2.2		para	n3	5	$node1tec and $counttec = 1	$validtecfirst != '$'	mid	There should be text in a \\tec at the beginning of this \\n3 paragraph.		XXD 10:2 last \n3			
TNND	237	10.2.3		char	tec	5	$countpretec > 0		pre	This \\tec should not be here. There should be only one \\tec at the start of this paragraph.		XXD 10:1			
TNND	238	10.31		char	tec	5	$lastchar = ' '		mid	The last character of this \\tec should be a colon, not a space.		XXD 10:3 first two \n1			
TNND	239	10.32		char	tec	3	not($lastchar = ':')		mid	The last character of this \\tec should be a colon.		XXD 10:3 last two \n1			
TNND	240	10.33	TRUE	char	tec		not(contains(text()[last()],':'))		mid	This \tec does not contain an ending colon.	SC 16 Dec: This test seems redundant with 10:32		-		
TNND	241	10.4		char	trs		not(preceding-sibling::*[@style = 'tec']) 	not($ancestor= 'f' or $parent = 'n2' or $parent = 'li1' or $parent = 'hb1')	mid	A \\tec should precede this \\trs in the paragraph, or perhaps this paragraph should be an \\n2.	SC 23 Mar: Caught by #10.6	XXD 10:4			
TNND	242	10.5		char	tei		$countpren1 > $countpres5 or $parentpresibpos > $countpres5 	contains($pren1tec,text()) and not($ancestor = 'p') and not($ancestor = 'f') and not($ancestor = 'qp') and not($ancestor = 'q1tn') and not($ancestor = 'q2tn') and not($ancestor = 'qns') and not($ancestor = 'b3')	mid	Any repeat of the words found in the preceding \\tec should be in a \\trs, not in this \\tei.		XXD 10:5			
TNND	243	10.6		char	trs		$ellipsiscount = 0 and not(contains($pretec,.))	not(contains($pretec,$curspfield) and $teccharposttrs = '$') or  not($teccharpretrs = '$' or $teccharposttrs = '$') 	mid	The word/phrase in this \\trs is not found in the closest preceding \\tec, or is misspelled, or has wrong capitalization, or has punctuation that does not belong in the \\trs.		XXD 10:4,6			
TNND	244	10.6.1.1	TRUE	char	trs		$ellipsiscount = 0  and $spacecount = 0 and $lenstring > 3	not(contains($pretec,$curtrs))	mid	The word/phrase in this \\trs is not found in the closest preceding \\tec, or is misspelled, or has wrong capitalization, or has punctuation that does not belong in the \\trs.					
TNND	245	10.6.1.2	TRUE	char	trs		$ellipsiscount = 0  and $lenstring < 4	not(contains(concat(' ',$pretec),concat(' ',$curtrs)))	mid	The word/phrase in this \\trs is not found in the closest preceding \\tec, or is misspelled, or has wrong capitalization, or has punctuation that does not belong in the \\trs.					
TNND	246	10.6.2		char	trs		$ellipsiscount = 1	not(contains($pretec,$split2ellipsisstring1) and contains($pretec,$split2ellipsisstring2))	mid	The word or phrase in this \\trs are not found in the preceding \\tec.		XXD 10:6			
TNND	247	10.6.3		char	trs		$ellipsiscount = 2	not(contains($pretec,$split2ellipsisstring1) and contains($pretec,$split3ellipsisstring2) and contains($pretec,$split3ellipsisstring3))	mid	The word or phrase in this \\trs are not found in the preceding \\tec.					
TNND	248	10.6.4		char	trs		$ellipsiscount = 3	not(contains($pretec,$split2ellipsisstring1) and contains($pretec,$split3ellipsisstring2) and contains($pretec,$split4ellipsisstring3) and contains($pretec,$split4ellipsisstring4))	mid	The word or phrase in this \\trs are not found in the preceding \\tec.					
TNND	249	10.6.5	TRUE	char	trs		not($hasellipsis)	contains($pretec,.) and ($teccharpretrs = '$' or $teccharposttrs = '$')		The word/phrase in this \\trs is not found in the closest preceding \\tec, or is misspelled, or has wrong capitalization, or has punctuation that does not belong in the \\trs.					
TNND	250	11.1		char	tec		translate(substring(.,1,1),$invalidtecfirstpunc,'%%') = '%'		mid	The first character should not be punctuation unless you are specifically talking about that punctuation in this Note, or it is a short quote within a larger text.		XXD 11:1		SC 5 Dec: not working. See XXD  1:22	
TNND	251	11.2	TRUE	char	tec		translate($lastchar2,$invalidtecendpunc,$invalidtecendpuncsub) = '%'		mid	The last character before the colon should not be punctuation unless it is a question, or exclamation mark, or an end quote mark needed for the Note, or a short quote within a larger text.		XXD 11:2			
TNND	252	11.2.1	TRUE	char	tec	5	contains(.,$sq)		mid	This \\tec contains a straight single quote.	see 26.2		-		
TNND	253	11.2.2	TRUE	char	tec	5	contains(.,$dq)		mid	This \\tec contains a straight double quote.	see 26.2		-		
TNND	254	12.1		para	n1		$counttec > 0 and contains($pren1tec,$curtec) and $precharn1tec != '$' and $postcharn1tec != '$'	$countpres5 < $countpren1	mid	The contents of this \\n1 \\tec is a portion of the previous \\n1 \\tec. Perhaps this should be an \\n2?		XXD 1:26		SC 5 Dec: not working. See XXD  1:24-6	
TNND	255	12.2		para	n2	8	$counttec > 0 and contains($pren2tec,$curtec) and $precharn2tec != '$' and $postcharn2tec != '$'	$countpren1 < $countpren2 and $countpres5 < $countpren2	mid	The contents of this \\n2 \\tec is a portion of the previous \\n2 \\tec. Perhaps this should be an \\n3?		XXD 1:26		SC 16 Dec: message wording changed.	
TNND	256	12.3	TRUE	para	n3	3	child::*[@style = 'tec'] and contains($pren3tec,$curtec)	$countpres5 < $countpren3		The contents of this \\n3 \\tec should not be in the previous \\n3 \\tec	SC 16 Dec: Remove this test. Sometimes we will get repeats here because there is no n4.		-		
TNND	257	12.4	TRUE	para	n1		not(contains(*[@style = 'tec'][1],following-sibling::*[@style = 'n2'])/*[@style = 'tec'])			nothing			-		
TNND	258	12.5	TRUE	para	n2		not(contains(*[@style = 'tec'][1],following-sibling::*[@style = 'n3'])/*[@style = 'tec'])			nothing			-		
TNND	259	12.6		para	n3	5	not(contains($pren2tec,$curtec) or contains($pren1tec,$curtec))	$hastecchild and not($hastecversion) and not($hastecellipsis)	mid	The contents of this \\n3 \\tec are not found in the preceding \\n2 or \\n1 \\tec.		XXD 12:2			
TNND	260	12.6.1		para	n3	5	not((contains($pren2tec,$curtecpreellipsis) and contains($pren2tec,$curtecpostellipsis)) or (contains($pren1tec,$curtecpreellipsis) and contains($pren1tec,$curtecpostellipsis)))	$countpres5 < $countpren2 and $countpres5 < $countpren1 and $hastecellipsis and $hastecchild and not($hastecversion)	mid	The contents of this \\n3 \\tec are not found in the preceding \\n2 or \\n1 \\tec.		XXD 12:6			
TNND	261	12.6.2		para	n3		not((contains($pren2tec,$curtecverpreellipsis) and contains($pren2tec,$curtecpostellipsis)) or (contains($pren1tec,$curtecverpreellipsis) and contains($pren1tec,$curtecpostellipsis)))	$hastecellipsis and $hastecchild  and $hastecversion	mid	The contents of this \\n3 \\tec are not found in the preceding \\n2 or \\n1 \\tec.					
TNND	262	12.6.3		para	n3		not(contains($pren2tec,$curtecver) or contains($pren1tec,$curtecver))	not($hastecellipsis) and $hastecchild and $hastecversion	mid	The contents of this \\n3 \\tec are not found in the preceding  \\n2 or \\n1 \\tec.					
TNND	263	12.7		para	n2	5	not(contains($pren1tec,$curtec))	$countpres5 < $countpren1 and $hastecchild and not($hastecellipsis) and not($hastecversion)	mid	The contents of this \\n2 \\tec are not found in the preceding \\n1 \\tec. Perhaps this should be an \\\n1?		XXD 1:26,27			
TNND	264	12.7.1		para	n2	5	not(contains($pren1tec,$tec1ellipsis1) and contains($pren1tec,$tec1ellipsis2)) 	$countpres5 < $countpren1 and $hastecchild and $counttecellipsis = 1 and not($hastecversion)	mid	The contents of this \\n2 \\tec are not found in the preceding \\n1 \\tec.		XXD 12:7			
TNND	265	12.7.2		para	n2	5	not(contains($pren1tec,$tec1ellipsis1) and contains($pren1tec,$tec2ellipsis2)  and contains($pren1tec,$tec2ellipsis3)) 	$countpres5 < $countpren1 and $hastecchild and $counttecellipsis = 2 and not($hastecversion)	mid	The contents of this \\n2 \\tec are not found in the preceding \\n1 \\tec.					
TNND	266	12.7.3		para	n2	5	not(contains($pren1tec,$tec1ellipsis1) and contains($pren1tec,$tec2ellipsis2)  and contains($pren1tec,$tec3ellipsis3)  and contains($pren1tec,$tec3ellipsis4)) 	$countpres5 < $countpren1 and $hastecchild and $counttecellipsis = 3 and not($hastecversion)	mid	The contents of this \\n2 \\tec are not found in the preceding \\n1 \\tec.					
TNND	267	12.7.4		para	n2	5	not(contains($pren1tec,$tec1ellipsis1) and contains($pren1tec,$tec2ellipsis2)  and contains($pren1tec,$tec3ellipsis3)  and contains($pren1tec,$tec3ellipsis4)) 	$countpres5 < $countpren1 and $hastecchild and $counttecellipsis = 4 and not($hastecversion)	mid	The contents of this \\n2 \\tec are not found in the preceding \\n1 \\tec.					
TNND	268	12.7.5		para	n2	5									
TNND	269	12.7.2	TRUE	para	n2			$countpres5 < $countpren1 and $hastecchild and not($hastecellipsis)	mid	The contents of this \\n2 \\tec is not found in the preceding  \\n1 \\tec.			-		
TNND	270	12.7.3		para	n2		not(contains($pren1tec,$tec1ellipsis1) and contains($pren1tec,$tec2ellipsis2)  and contains($pren1tec,$tec3ellipsis3) and contains($pren1tec,$tec4ellipsis4)  and contains($pren1tec,$tec4ellipsis5)) 	$countpres5 < $countpren1 and $hastecchild and $hastecellipsis and $hastecversion	mid	The contents of this \\n2 \\tec are not found in the preceding \\n1 \\tec.					
TNND	271	12.7.4		para	n2		not(contains($pren2tec,$curtecver) or contains($pren1tec,$curtecver))	$countpres5 < $countpren1 and $hastecchild and not($hastecellipsis) and $hastecversion	mid	The contents of this \\n2 \\tec are not found in the preceding \\n1 \\tec.					
TNND	272	12.8.1		para	n2		$countpres5 > $countpren1	child::*[@style = 'tec']	pre	There is no \\n1 preceding this \\n2. It should be an \\n1.		XXD 12:4		SC: 16 Dec: added test at 12:4, not working	
TNND	273	12.8.2		para	n3	5	$countpres5 > $countpren2		pre	The \\n3 occurs before any \\n2 in this \\s5 note group.		XXD 12:5; 12.7			
TNND	274	12.8.3	TRUE	para	n3		not(contains($pren1tec,$curtec))	$countpres5 < $countpren1	pre	This should be an \\n1 paragraph since the content is not found in the preceding \\n1 \\tec.			-		
TNND	275	12.9	TRUE	char	tec		($countpres5 < $countpren2) and ($countpres5 < $countpren1) and not($hasellipsis)	not(contains($pretec,.))	mid	The contents of this \\tec is not found in the preceding \\tec.			-		
TNND	276	12.9.1	TRUE	char	tec		$countpres5 < $countpren2 and $countpres5 < $countpren1 and $hasellipsis 	not(contains($pretec,$preellipsisstring) and contains($pretec,$postellipsisstring))	mid	The contents of this \\tec is not found in the preceding \\tec.			-		
TNND	277	13.1	TRUE	para	n3		not(*[@style = 'tec'])			There should be a \\tec character style in this \\n3 paragraph	SC 5 Dec: This seems redundant with 13.2. Perhaps better would be to test for not two tec in one paragraph, like 10.1.		-		
TNND	278	13.2	TRUE	para	n3		not(node()[1] = *[@style = 'tec'])			There should be text in \\tec formatting at the beginning of this paragraph			-		
TNND	279	14.1		para	n1		position() != last()	post=n1 n2 n3 ntn qp q1tn q2tn b b2 b3 p s5 li1 hb1 s3 c gra	post	Only these paragraphs are allowed after a \\n1: \\n1 \\n2 \\n3 \\ntn \\qp \\q1tn \\q2tn \\b \\b2 \\b3 \\p \\s5 \\li1 \\hb1 \\s3 \\gra \\c.		XXD 14:1			
TNND	280	14.2		para	qp		preceding-sibling::*[1][@style = 'qp']		pre	Two \\qp paragraphs, one after the other, are not allowed, unless it is one example with two paragraphs, or you are illustrating parallel lines of Hebrew poetry.		XXD 14:1			
TNND	281	15.1		para	b3		$hasvhyphen and not($posts5hasendashvr2) and not($posts5hasleftround)	$posts5v != $curvr1	post	The first \\s5 below should include the first verse in the \\v verse range here.				(old messages below)	
TNND	282	15.2		para	p		$hasvhyphen and not($posts5hasendashvr2) and not($posts5hasleftround)	$posts5v != $curvr1	pre	The first \\s5 below should include the first verse in the \\v verse range here.				There should be an \\s5 after this that matches the first verse in the verse range. Or the \\s5 should have a verse range.	
TNND	283	15.3	TRUE	para	b3		$prevhyphen and not($pres5hasendashvr2 or $pres5hasleftround) 	$pres5v != $preverser2	post	The last \\s5 above (in the previous verse range) should include the last verse in the previous \\v verse range.				There should be an \\s5 before this that matches the last verse in the preceding verse range.	
TNND	284	15.4	TRUE	para	p		$prevhyphen and not($pres5hasendashvr2 or $pres5hasleftround) 	$pres5v != $preverser2	pre	The last \\s5 above (in the previous verse range) should include the last verse in the previous \\v verse range.					
TNND	285	15.5	TRUE	para	b3		$hasvhyphen and not($posts5beforevhaslrb) 	not(contains($values5beforev,concat(':',$curvr2)))  and not($posts5beforevhasvr2)	post	The last \\s5 below (in this verse range) should include the last verse in this \\v verse range.					
TNND	286	15.6	TRUE	para	p		$hasvhyphen and not($posts5beforevhasvr2) and not($posts5beforevhaslrb) 	not(contains($values5beforev,concat(':',$curvr2)))  and $posts5beforevhasvr2 != true()	post	The last \\s5 below (in this verse range) should include the last verse in this \\v verse range.					
TNND	287	15.7		char	fr		$hascvref or $hasbadcvref		mid	Remove this \\fr and the address. TNs do not use them.					
TNND	288	17.1.1		char	tbb		not(text() = '__')		mid	There should be only two underscore characters in the \\tbb __\\tbb*.		XXD 1:27			
TNND	289	17.1.2	TRUE	char	tbb		text() = '___' or text() = '____'		mid	This \tbb __\tbb* has more than 2 underscore characters.		XXD 1:27			
TNND	290	17.2		char	tbb	5	substring(preceding-sibling::node()[1],string-length(preceding-sibling::node()[1]),1) = ' '		pre	There should not be a space before a \\tbb.		XXD 1:28			
TNND	291	17.3		char	tbb	10	substring(following-sibling::node()[1],1,1) = ' '		post	There should not be a space after a \\tbb*.		XXD 1:28			
TNND	292	18.1		para	ntn		pre=s3 s5 ntn tr ntn qp qns q1tn q2tn li1 li2 gra gj hb1		pre	An \\ntn should be preceeded by a \\s3, \\s5, \\tr, \\ntn, \\qp, \\qns, \\q1tn, \\q2tn, \\li1, \\li2, \\hb1, \\gra, or \\gj.		XXD 18:29-30			
TNND	293	19.1		para	s3	6	not(contains(text(),'General Comment on'))		mid	An \\s3 paragraph always starts with `General Comment on`		XXD 19:1		SC 2 Dec: @Neh 7:5b the text is correct but I still get the tag error. Also, the message should read 'An \\s3 paragraph always...'.	
TNND	294	19.2		para	s3	6	not($hascvref )		mid	This \\s3 paragraph is missing a valid chapter verse reference, or the colon is missing.		XXD 19:1			
TNND	295	19.3		para	s3	5	$hascvref and $hasspacecref	$refwordschapcolon != $prechapter	mid	The chapter number in this \\s3 does not match the current chapter number.		XXD 19:1			
TNND	296	19.4		para	s3		not($prevhyphen) and not($refvendash) and not($hasvlet)	$refcolonv != $preverse	mid	The verse number in this \\s3 does not match the current verse number in \\v above or the hyphen should be a en dash.		XXD 19:1		SC 5 Dec: This seems to be catching the hyphen, but the message then needs to read: 'The hyphen in this \\s3 needs to be an en dash'	
TNND	297	19.4.1		para	s3		not($prevhyphen) and not($refvendash) and $hasvlet	$refcolonvlet != $preverse	mid	The verse number in this \\s3 does not match the current verse number in \\v above.		XXD 19:1			
TNND	298	19.5		para	s3		$hassubvrange and $hascvref 	$refcolonvlet != $preverse	mid	The verse number in this \\s3 does not match the current verse number in \\v above.		XXD 19:2			
TNND	299	19.6		para	s3		($refvendash  and ($lastchartype = '#')) or (contains($reftype,'#$–#')  and ($lastchartype = '#'))	$refcolonvr2 != $preverse	mid	The last verse number in the range in this \\s3 does not match the current verse number in the \\v above.		XXD 19:2			
TNND	300	19.7		para	s3	5	$hascvref and $lastchartype  = '$'	$lastchar != substring($pres5text,string-length($pres5text),1)	mid	The ending verse part does not match the previous \\s5 verse part.	SC 21 Dec: Changed message. Otherwise OK.	XXD 19:2		2022-11-16 won't handle this range 5:6c-7==fixed now, 2022-12-16 test okay	
TNND	301	19.8		para	s3		post=ntn		mid	An \\s3 can only be followed by an \\ntn.		XXD 19:2			
TNND	302	20.3		char	tec		*[@style = 'f']		mid	A \\tec cannot contain a footnote (\\f ...\\f*). It must be after the \\tec*.		XXD 20:32		SC 6 Dec: not working. See XXD 1:32	
TNND	303	22.1		figure	fig	8	not($graparent)		pre	A \\fig must only occur in a \\gra paragraph.		XXD 22:1-3			
TNND	304	22.11	TRUE	para		5	*[@style = 'fig']	not(@style = 'gra')	mid	This is not an \\gra paragraph. A \\fig must only occur in a \\gra paragraph	IM 2023-02-28 22.1 is working so this is not needed now.		-		
TNND	305	22.2		para	gra	8	$countfig + $countf = 2	$countnode != 2	mid	This \\gra has all the required elements of \\fig and a footnote, but also has some other markup, extra spaces or text.	SC 6 Dec: This test does not seem to be working. Please make the message: 'This \\ntn must only have a \\fig and a footnote'.	XXD 22:4,8			
TNND	306	22.2.1		figure	fig		$curpos != 1		pre	The \\fig must be the first item in a \\gra paragraph.	SC 6 Dec: This test does not seem to be working. Please make the message: 'This \\ntn must only have a \\fig and a footnote'.	XXD 22:5			
TNND	307	22.2.2	TRUE	para	gra		$countfig + $countf = 2	$nodecount != 2		This \\gra has all the required elements of \\fig and a footnote, but also has some other markup, extra spaces or text.	same as 22.2		-		
TNND	308	22.3		note	f		$graparent	not(preceding-sibling::*[1][@style = 'fig'] )	pre	The sequence should be \\fig...\\fig*\\f...\\f*. Note no space after \\fig*.		XXD 22:6			
TNND	309	22.4		char	jmp		not($gjparent) and $containsclickhere		pre	This ‘Click here...’ \\jmp should occur as the only item in a \\gj paragraph. The \\gj  para should be immediately after a \\gra paragraph.		XXD 22:3-4			
TNND	310	22.5		note	f		@caller != '+'		pre	The caller for the \\f must be a plus sign.		XXD 22:7			
TNND	311	22.6		figure	fig	2	$hascoloncvref and not($hasspaceinref)	$refattchap != $prechapter	mid	The referenced chapter number for the \\fig does not match the current chapter number.		XXD 22:9			
TNND	312	22.6.2		figure	fig	2	$hascoloncvref and $hasspaceinref		mid	The reference in this \\fig should not contain a book code, and the full stop between chapter and verse must be a colon.		XXD 22:6			
TNND	313	22.6.3	TRUE	figure	fig	2	not($hascoloncvref) and not($hasspaceinref)	$refattchapdot != $prechapter	mid	The referenced chapter number for the \\fig does not match the preceding \\c number.			-		
TNND	314	22.6.4	TRUE	figure	fig	2	not($hascoloncvref) and $hasspaceinref	substring-after($refattchapdot,' ') != $prechapter	mid	The referenced chapter number for the \\fig does not match the preceding \\c number.			-		
TNND	315	22.7		figure	fig		$hascoloncvref and not($hasspaceinref)	$refattverse != $preverse	mid	The referenced verse number for the \\fig does not match the current verse number.		XXD 22:7			
TNND	316	22.7.2		figure	fig		not($hascoloncvref)		mid	The reference should be chapter number then colon then verse number. No book code.		XXD 22:1,3-8			
TNND	317	22.8		para	gra		$countfig + $countf = 1	$countf = 0	mid	This \\gra paragraph is missing the copyright footnote.		XXD 22:10			
TNND	318	22.9		para	gj		$countjmp = 0		mid	This \\gj paragraph is missing a ‘Click here...’ jump link ( \\jmp).		XXD 22:11			
TNND	319	22.9.1		para	gj		$countnode != 1		mid	This \\gj paragraph should contain only one ‘Click here...’ \\jmp item, and no other text or markup.		XXD22:12			
TNND	320	22.9.2		para	gj		pre=gra		pre	The paragraph preceding this \\gj paragraph is not a \\gra.		XXD 22:2,3			
TNND	321	22.10.		para	gra		$countfig + $countf = 1	$countfig = 0	mid	This \\gra paragraph is missing a \\fig.		XXD 22:12			
TNND	322	23.1		para			not(@style = 'b') and not(@style = 'b2')  and not(@style = 'tc2')  and not(@style = 'tc3') and not(@style = 'tc4') and not(@style = 'tc5')	string-length(text()) = 0 and count(*) = 0	mid	This paragraph type should not be empty. Allowed are \\b, \\b2, and , if needed, \\tc2, \\tc3. \\tc4, and \\tc5.		XXD 1:35, 23:1			
TNND	323	23.2		para	b2		following-sibling::*[1][@style = 'b']		pre	A \\b2 should not precede a \\b.		XXD 23:2			
TNND	324	23.3		para	b		following-sibling::*[1][@style = 'b2']		post	A \\b2 should not follow a \\b.		XXD 23:3			
TNND	325	23.4		para	b2		count(node()) > 0		mid	A \\b2 paragraph should be empty.		XXD 23:1			
TNND	326	23.5		para	b		count(node()) > 0		mid	A \\b paragraph should be empty.		XXD 23:1			
TNND	327	24.1		para	ntn		char[@style = 'tec']		mid	An \\ntn should not contain a \\tec.		XXD 24:1			
TNND	328	25.1	TRUE	para	n1		next-pair=n2 n3						-		
TNND	329	26.1		para		5	contains(text(),$sq) or contains(text(),$dq) 		mid	This paragraph contains a straight quote mark. It should be a curly quote mark.		XXD 26:1			
TNND	330	26.2		char		5	contains(text(),$sq) or contains(text(),$dq) 		mid	This character SFM contains a straight quote mark. It should be a curly quote mark.		XXD 26:1			
TNND	331	26.3		cell			contains(text(),$sq) or contains(text(),$dq) 		mid	This table cell contains a straight quote mark. It should be a curly quote mark.		XXD 26:1			
TNND	332	27.1	TRUE	note	f		(contains($indqstr1,$ldq) and not(contains($indqstr1,$lsq))) or (contains($indqstr2,$ldq) and not(contains($indqstr2,$lsq))) or (contains($indqstr3,$ldq) and not(contains($indqstr3,$lsq))) or (contains($indqstr4,$ldq) and not(contains($indqstr4,$lsq)))		mid	Quotes within quotes of scholars need to be adjusted to single quotes and so forth through the levels of quotes.					
TNND	333	27.2	TRUE	note	f		(translate($indqstr1,$ldq,'') != $indqstr1  and translate($indqstr1,$lsq,'') = $indqstr1) or (translate($indqstr2,$ldq,'') != $indqstr2 and translate($indqstr2,$lsq,'') = $indqstr2) or (translate($indqstr3,$ldq,'') != $indqstr3 and translate($indqstr3,$lsq,'') = $indqstr3) or (translate($indqstr4,$ldq,'') != $indqstr4 and translate($indqstr4,$lsq,'') = $indqstr4)		mid	Quotes within quotes of scholars need to be adjusted to single quotes and so forth through the levels of quotes.					
TNND	334	27.3	TRUE	note	f		(contains($indqstr1,$ldq) and contains($indqstr1,$lsq) and contains($indqstr1,$rsq)) or  (contains($indqstr2,$ldq) and contains($indqstr2,$lsq) and contains($indqstr2,$rsq)) or  (contains($indqstr3,$ldq) and contains($indqstr3,$lsq) and contains($indqstr3,$rsq)) or  (contains($indqstr4,$ldq) and contains($indqstr4,$lsq) and contains($indqstr4,$rsq))		mid	Quotes within quotes of scholars need to be adjusted to single quotes and so forth through the levels of quotes. See third double quote.					
TNND	335	27.1		note	f	5	translate($postchar1,$invalidpuncpost-f,$invalidpuncpost-f-sub) = '%'		post	Footnotes always occur after punctuation.		XXD 100:1, 2nd \n1, fn 1.			
TNND	336	27.2		note	f	0	translate($postchar1,$letulcnumb,$letulcnumbsub) = '$'		post	There must be a space after the end of the footnote (\\f*).		XXD 100:1, last \n2, fn 4.			
TNND	337	27.3		note	f		translate($pretextlastchar,' ','_') = '_'		pre	There should not be a space in front of the footnote.					
TNND	338	27.4		note	f		(contains($indqstr1,$ldq) and $sqdiff1 = 0) or (contains($indqstr2,$ldq) and $sqdiff2 = 0) or (contains($indqstr3,$ldq) and $sqdiff3 = 0) or (contains($indqstr4,$ldq) and $sqdiff4 = 0) or (contains($indqstr5,$ldq) and $sqdiff5 = 0) or (contains($indqstr6,$ldq) and $sqdiff6 = 0) or (contains($indqstr7,$ldq) and $sqdiff7 = 0) or (contains($indqstr8,$ldq) and $sqdiff8 = 0) or (contains($indqstr9,$ldq) and $sqdiff9 = 0) or (contains($indqstr10,$ldq) and $sqdiff10 = 0)		mid	Quotes within quotes of scholars need to be adjusted to single quotes and so forth through the levels of quotes. 					
TNND	339	27.5	TRUE	para	n1		(contains($indqstr1,$ldq) and $sqdiff1 = 0) or (contains($indqstr2,$ldq) and $sqdiff2 = 0) or (contains($indqstr3,$ldq) and $sqdiff3 = 0) or (contains($indqstr4,$ldq) and $sqdiff4 = 0) or (contains($indqstr5,$ldq) and $sqdiff5 = 0) or (contains($indqstr6,$ldq) and $sqdiff6 = 0) or (contains($indqstr7,$ldq) and $sqdiff7 = 0) or (contains($indqstr8,$ldq) and $sqdiff8 = 0) or (contains($indqstr9,$ldq) and $sqdiff9 = 0) or (contains($indqstr10,$ldq) and $sqdiff10 = 0)		mid	Quotes within quotes of scholars need to be adjusted to single quotes and so forth through the levels of quotes. 					
TNND	340	27.6	TRUE	para	n2		(contains($indqstr1,$ldq) and $sqdiff1 = 0) or (contains($indqstr2,$ldq) and $sqdiff2 = 0) or (contains($indqstr3,$ldq) and $sqdiff3 = 0) or (contains($indqstr4,$ldq) and $sqdiff4 = 0) or (contains($indqstr5,$ldq) and $sqdiff5 = 0) or (contains($indqstr6,$ldq) and $sqdiff6 = 0) or (contains($indqstr7,$ldq) and $sqdiff7 = 0) or (contains($indqstr8,$ldq) and $sqdiff8 = 0) or (contains($indqstr9,$ldq) and $sqdiff9 = 0) or (contains($indqstr10,$ldq) and $sqdiff10 = 0)		mid	Quotes within quotes of scholars need to be adjusted to single quotes and so forth through the levels of quotes. 					
TNND	341	27.7	TRUE	para	n3		(contains($indqstr1,$ldq) and $sqdiff1 = 0) or (contains($indqstr2,$ldq) and $sqdiff2 = 0) or (contains($indqstr3,$ldq) and $sqdiff3 = 0) or (contains($indqstr4,$ldq) and $sqdiff4 = 0) or (contains($indqstr5,$ldq) and $sqdiff5 = 0) or (contains($indqstr6,$ldq) and $sqdiff6 = 0) or (contains($indqstr7,$ldq) and $sqdiff7 = 0) or (contains($indqstr8,$ldq) and $sqdiff8 = 0) or (contains($indqstr9,$ldq) and $sqdiff9 = 0) or (contains($indqstr10,$ldq) and $sqdiff10 = 0)		mid	Quotes within quotes of scholars need to be adjusted to single quotes and so forth through the levels of quotes. 					
TNND	342	27.8	TRUE	para	ntn		(contains($indqstr1,$ldq) and $sqdiff1 = 0) or (contains($indqstr2,$ldq) and $sqdiff2 = 0) or (contains($indqstr3,$ldq) and $sqdiff3 = 0) or (contains($indqstr4,$ldq) and $sqdiff4 = 0) or (contains($indqstr5,$ldq) and $sqdiff5 = 0) or (contains($indqstr6,$ldq) and $sqdiff6 = 0) or (contains($indqstr7,$ldq) and $sqdiff7 = 0) or (contains($indqstr8,$ldq) and $sqdiff8 = 0) or (contains($indqstr9,$ldq) and $sqdiff9 = 0) or (contains($indqstr10,$ldq) and $sqdiff10 = 0)		mid	Quotes within quotes of scholars need to be adjusted to single quotes and so forth through the levels of quotes. 					
TNND	343	27.9		note	f		not(contains($presibtext1last12,normalize-space(*[@style = 'fq']/text())))	not(preceding-sibling::*[@style = 'trs'])	pre	The \\fq marker can only be used on the word or phrase immediately preceding the \\f marker.					
TNND	344	27.11		note	f		not(contains(preceding-sibling::*[@style = 'trs'],normalize-space(*[@style = 'fq']/text())))	preceding-sibling::*[@style = 'trs']	pre	The \\fq marker can only be used on the word contained inte the preceding \\trs...\\trs*.					
TNND	345	28.1		char	rgi	1	$presibnode1 = $presibtext1	translate($pretextlastchar,' ,.?!):”’','#########') = '#'	pre	The \\rgi should be immediately after the word it modifies.					
TNND	346	28.2		char	rgm	1	$presibnode1 = $presibtext1	translate($pretextlastchar,' ,.?!):”’','#########') = '#'	pre	The \\rgm should be immediately after the word it modifies.					
TNND	347	28.3		char	rgi	2	$postsibnode1 = $postsibtext1	translate($postchar1,$letulc,$letulcsub) = '$'	post	A letter should not immediately follow an \\rgi*.					
TNND	348	28.5		char	rgm	2	$postsibnode1 = $postsibtext1	translate($postchar1,$letulc,$letulcsub) = '$'	post	A letter should not immediately follow an \\rgm*.					
TNND	349	28.4		char	rgi	5	not(parent::*[@style = 'imp'] or preceding-sibling::*[1][@style = 'imp'])			This \\rgi SFM should be embedded in a \\imp SFM like this \\+rgi					
TNND	350	29	TRUE	char	ros	5	not(substring(node()[last()],string-length(text()[last()]),1) = ' ' ) or $lastchar != ' '		mid	The space must be before the \\ros*, and no space after it.					
TNND	351	29.1		char	ros	5	$lastchar != ' '		mid	There should be a space before the \\ros*.					
TNND	352	29.2		char	ros	5	$postnodechar1 = ' '		post	There should not be a space after the \\ros*.					
TNND	353	29.3		char	ros	5	$pretextlastchar != ' ' and $pretextlastchar != '…'	string-length($pretextlastchar) > 0	pre	There should be a space or ellipsis before this \\ros.					
TNND	354	29.2	TRUE	char	ros	2	$postnodechar1 = ' '		post	The space must be before the \\ros*, and no space after it.					
TNND	355	30		char		0	not(@style = 'ros' or @style = 'teu' or @style = 'tre' or @closed)	substring(node()[last()],string-length(text()[last()]),1) = ' '   and not(count(following-sibling::node()) = 0) 	mid	There is a space before the closing SFM. Best to put the space after the close, except that the space should be after the numeral in a \\ros.					
TNND	356	30.2		char	tre	5	$lastchar = ' '	not(following-sibling::node()[1]/@style = 'teu')	mid	There is a space before the closing SFM. Best to put the space after the close, except if followed by \\teu.					
TNND	357	30.3		char	teu	5	$lastchar = ' '	not(following-sibling::node()[1]/@style = 'tre')	mid	There is a space before the closing SFM. Best to put the space after the close, except if followed by \\tre.					
TNND	358	31		char	ord	0	not(text() = 'st' or text() = 'nd' or text() = 'rd' or text() = 'th')		mid	The \\ord is only used for the ordinal ending after a numeral (i.e., 3rd). This one probably should be a \\ros.					
TNND	359	31.2		char	ord	3	text() = 'st'	not($preceding2char = ' 1')	mid	The preceding number does not match the ordinal letters.					
TNND	360	31.3		char	ord	3	text() = 'nd'	not($preceding2char = ' 2')	mid	The preceding number does not match the ordinal letters.					
TNND	361	31.4		char	ord	3	text() = 'rd'	not($preceding2char = ' 3')	mid	The preceding number does not match the ordinal letters.					
TNND	362	32		char	brk	0	contains(text(),'⌊') and position() > 1 and not(preceding-sibling::node()[1][@style = 'tbb']) and not(substring(following-sibling::char[1][@style = 'imp'],1,1) = '’')	not(translate(substring($presibnode1,string-length($presibnode1),1),'+ “/(‘','_+++++') = '+')	pre	This \\brk SFM is not preceded by a space or quotes or left parenthesis					
TNND	363	33		char	brk	8	contains(text(),'⌋') and not(parent::*[@style = 'ros'])	pre-inline=imp rgi rgm	pre	This \\brk SFM should only occur immediately after an \\imp* or \\rgi* SFM, except if in a \\ros ...\\ros*.					
TNND	364	34		char	brk	5	string-length(text()) != 1			This \\brk SFM can contain only ⌊ or ⌋ but this does not match either of those.					
TNND	365	35		char	imp	5	post-inline=brk rgi rgm		post	This implied bracket sequence is incomplete or incorrect (it should be: \\brk ⌊\\brk*\\imp...\\imp*\\brk ⌋\\brk*)					
TNND	366	36		char	imp	8	pre-inline=brk rgi		pre	This \\imp...\\imp* should be preceded by \\bk ⌊\\bk*, or a \\rgi and a space, or removed; or there is an extra space somewhere.					
TNND	367	37	TRUE	char		11	@closed = 'false'	substring(@style,1,1) != 'f'		This character SFM is not closed. No end marker was found.					
TNND	368	38	TRUE	char		0	string-length(text()) = 0 and not(*)			This character SFM is empty					
TNND	369	39		char	brk	5	contains(text(),'⌋') and not(position() = last()) and not(parent::cell)	not(translate(substring($postsibnode1,1,1),'+ ,.?!:;”’)','_++++++++++') = '+')	post	This \\brk SFM is not followed by a space or punctuation					
TN	370	C01		char		9	preceding-sibling::*[1]/@style = @style and preceding-sibling::*[1]/@style != 'brk'	preceding::text()[1] = ' '	pre	There is an erroneous \\xxx* \\xxx, where ‘xxx’ is the same in both cases.					
TN	371	C04		char		11	@closed = 'false'	substring(@style,1,1) != 'f'		This character SFM is not closed. No end marker was found.					
TN	372	C05.1		char		0	string-length(text()) = 0 and not(*)	not(@closed = 'false')		This character SFM is empty					
TN	373	C05.2		note		10	string-length(.) = 0 and not(*) and string-length(@caller) = 0			This note SFM is empty					
TN	374	C05.3		note		5	string-length(@caller) > 1			This note SFM has text but no caller. The text should be in an \\ft.					
TN	375	C06.1		note	f		not($lastnodelast4charmod = '$$$%' or $lastnodelast4charmod = '$$%”' or $lastnodelast4charmod = '%’ ”')	string-length($lastnodelast4charmod) = 4	mid	Footnotes must end with sentence-final punctuation.					
TN	376	C06.2		note	f		not(contains($lastnodelast4charmod,'%'))	string-length($lastnodelast4charmod) = 3 or string-length($lastnodelast4charmod) = 2  or string-length($lastnodelast4charmod) = 1	mid	Footnotes must end with sentence-final punctuation.					
TN	377	C06.3	TRUE	note	f		not($next2lastnodelast4charmod= '$$$%' or $next2lastnodelast4charmod= '$$%”' or $next2lastnodelast4charmod = '%’ ”')	string-length($lastnodelast4charmod) = 0 and string-length($next2lastnodelast4charmod) = 4 	mid	Footnotes must end with sentence-final punctuation.					