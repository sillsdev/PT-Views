<xsl:stylesheet version="2.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:f="myfunctions" exclude-result-prefixes="f">
  <xsl:variable name="var-string_list">%%%ancestor==ancestor::*/@style ==%%%chap1char==substring(node()[not(self::*)],string-length(substring-before(node()[not(self::*)],':'),1)==%%%chap2char==substring(node()[not(self::*)],string-length(substring-before(node()[not(self::*)],':')-1,2)==%%%chap3char==substring(node()[not(self::*)],string-length(substring-before(node()[not(self::*)],':')-2,3)==%%%chappos==string-length(substring-before(translate(node()[not(self::*)],$numb,$numbsub), '#'))+1==%%%containsclickhere==contains(.,'Click here')==%%%containsdivision==contains(.,'Division')==%%%containsLdq==contains(.,$ldq)==%%%containsLsq==contains(.,$lsq)==%%%containsparagraph==contains(.,'Paragraph')==%%%containspart==contains(.,'Part')==%%%containsRdq==contains(.,$rdq)==%%%containsRsq==contains($Rsqmodstring,$validrsqcontext)==%%%containssection==contains(.,'Section')==%%%countf==count(*[@style = 'f'])==%%%countfig==count(*[@style = 'fig'])==%%%countfolls5pre-p==count(following::*[@style = 's5'][1]/preceding-sibling::*[@style = 'p'])==%%%countfolls5pretable==count(following::*[@style = 's5'][1]/preceding-sibling::table)==%%%countfolltabledivision==count(following::table[descendant::*[@style = 'sbx']][contains(descendant::*[@style = 'sbx'],'Division')][1]/preceding-sibling::table)==%%%countfolltableparagraph==count(following::table[contains(descendant::*[@style = 'tc1'],'Paragraph')][1]/preceding-sibling::table)==%%%countfolltablesection==count(following::table[descendant::*[@style = 'sbx']][contains(descendant::*[@style = 'sbx'],'Section')][1]/preceding-sibling::table)==%%%countjmp==count(*[@style = 'jmp'])==%%%countnext-p==count(following-sibling::*[child::verse][1])==%%%countnext-s5==count(following-sibling::*[@style = 's5'][1])==%%%countnode==count(node())==%%%countparentpresib==count(parent::*/preceding-sibling::*)==%%%countposttablewithdivision==count(following::table[contains(descendant::*[@style = 'tc1'],'Division')])==%%%countposttablewithparagraph==count(following::table[contains(descendant::*[@style = 'tc1'],'Paragraph')])==%%%countposttablewithsection==count(following::table[contains(descendant::*[@style = 'tc1'],'Section')])==%%%countpreb3==count(preceding::*[@style = 'b3'][1]/preceding-sibling::*)==%%%countpren1==count(preceding::*[@style = 'n1'][child::*[@style = 'tec']][1]/preceding-sibling::*)==%%%countpren2==count(preceding::*[@style = 'n2'][child::*[@style = 'tec']][1]/preceding-sibling::*)==%%%countpren3==count(preceding::*[@style = 'n3'][child::*[@style = 'tec']][1]/preceding-sibling::*)==%%%countprenode==count(preceding-sibling::node())==%%%countprep==count(preceding::*[@style = 'p'][1]/preceding-sibling::*)==%%%countpres5==count(preceding::*[@style = 's5'][1]/preceding-sibling::*)==%%%countpres5post-p==count(following-sibling::*[@style = 'p'][1]/preceding::*[@style = 's5'])==%%%countpres5post-v==count(following::*[@style = 'v'][1]/preceding::*[@style = 's5'][not(self::*)])==%%%countpresibnode==count(preceding-sibling::node())==%%%countpretable==count(parent::*/preceding-sibling::table)==%%%countpretec==count(preceding-sibling::*[@style = 'tec'])==%%%countsbx==count(*[@style = 'sbx'])==%%%countsib2next-p==count(following-sibling::*[child::verse][1]/preceding-sibling::*[position() > number($curpos)])==%%%countsib2next-s5==count(following-sibling::*[@style = 's5'][1]/preceding-sibling::*[position() > number($curpos)])==%%%countsibb4next-s5==count(following-sibling::*[preceding-sibling::*[following-sibling::*[@style = 's5']]])==%%%counttbb==count(*[@style = 'tbb'])==%%%counttec==count(*[@style = 'tec'])==%%%counttecellipsis==string-length($curtec) - string-length(translate($curtec,'…',''))==%%%countteu==count(*[@style = 'teu'])==%%%counttrs==count(*[@style = 'trs'])==%%%curfield==.==%%%curfirstchar==substring(text()[1],1,1)==%%%curfirstcharposttab==substring(node()[3],1,1)==%%%curlastchar==substring($curlastnodetext,$curlasttextlen,1)==%%%curlastcharb4lb==substring($curlastnodetext,$curlastnodetextb4lblen,1)==%%%curlastnodetext==node()[last()]==%%%curlastnodetextb4lb==substring-before($curlastnodetext,' (')==%%%curlastnodetextb4lblen==string-length($curlastnodetextb4lb)==%%%curlasttextlen==string-length($curlastnodetext)==%%%curpos==position()==%%%currefv==translate(substring-after(text()[1],':'),$validvletcomma,'')==removes sub v letters so only numbers remain%%%currefv1==substring-before($currefv,'–')==%%%currefv2==substring-after($currefv,'–')==%%%curRsqcount==string-length(.) - string-length(translate(., $rsq, ''))==%%%curspfield==concat(' ',.)==%%%curstyle==@style==%%%curtec==substring(*[@style = 'tec'][1],1,string-length(*[@style = 'tec'][1])-1)==%%%curtecpostellipsis==substring-after($curtec,'…')==%%%curtecpostellipsisparse1==substring-after($curtec,'…')==%%%curtecpostellipsisparse2==substring-after($curtecpostellipsisparse1,'…')==%%%curtecpostellipsisparse3==substring-after($curtecpostellipsisparse2,'…')==%%%curtecpostellipsisparse4==substring-after($curtecpostellipsisparse3,'…')==%%%curtecpreellipsis==substring-before($curtec,'…')==%%%curtecver==normalize-space(substring-after($curtec,')'))==%%%curtecverpreellipsis==substring-before(substring-after($curtec,')'),'…')==%%%curtei==*[@style = 'tei']/text()==%%%curverse==verse/@number==%%%curvr1==substring-before(verse/@number,'-')==%%%curvr2==substring-after(verse/@number,'-')==%%%dqstr1==substring-before($fnstring,$rdq)==%%%dqstr10==substring-before(substring-after(substring-after(substring-after(substring-after(substring-after(substring-after(substring-after(substring-after(substring-after($fnstring,$rdq),$rdq),$rdq),$rdq),$rdq),$rdq),$rdq),$rdq),$rdq),$rdq)==%%%dqstr2==substring-before(substring-after($fnstring,$rdq),$rdq)==%%%dqstr3==substring-before(substring-after(substring-after($fnstring,$rdq),$rdq),$rdq)==%%%dqstr4==substring-before(substring-after(substring-after(substring-after($fnstring,$rdq),$rdq),$rdq),$rdq)==%%%dqstr5==substring-before(substring-after(substring-after(substring-after(substring-after($fnstring,$rdq),$rdq),$rdq),$rdq),$rdq)==%%%dqstr6==substring-before(substring-after(substring-after(substring-after(substring-after(substring-after($fnstring,$rdq),$rdq),$rdq),$rdq),$rdq),$rdq)==%%%dqstr7==substring-before(substring-after(substring-after(substring-after(substring-after(substring-after(substring-after($fnstring,$rdq),$rdq),$rdq),$rdq),$rdq),$rdq),$rdq)==%%%dqstr8==substring-before(substring-after(substring-after(substring-after(substring-after(substring-after(substring-after(substring-after($fnstring,$rdq),$rdq),$rdq),$rdq),$rdq),$rdq),$rdq),$rdq)==%%%dqstr9==substring-before(substring-after(substring-after(substring-after(substring-after(substring-after(substring-after(substring-after(substring-after($fnstring,$rdq),$rdq),$rdq),$rdq),$rdq),$rdq),$rdq),$rdq),$rdq)==%%%ellipsiscount==string-length(.)-string-length(translate(.,'…',''))==%%%fnstring==.==%%%gjparent==parent::para[@style = 'gj']==%%%graparent==parent::para[@style = 'gra']==%%%has1charchap==contains(translate(node()[not(self::*)],$numb,$numbsub),' #:')==%%%has2charchap ==contains(translate(node()[not(self::*)],$numb,$numbsub),' ##:')==%%%has3charchap==contains(translate(node()[not(self::*)],$numb,$numbsub),' ###:')==%%%hasbadcvref==contains(translate(node()[not(self::*)],$numb,$numbsub),'#.#')==%%%hascoloncvref==contains(@ref,':')==%%%hascvref==contains(translate(node()[not(self::*)],$numb,$numbsub),'#:#')==%%%hasellipsis==contains(node()[not(self::*)],'…')==%%%hasfollowingtable==count(following::table) > 0==%%%hasreordered==contains(.,'reordered)')==%%%hasspacecref==contains(translate(node()[not(self::*)],$numb,$numbsub),' #')==%%%hasspaceinref==contains(@ref,' ')==%%%hassubvrange==contains(translate($refcolonv,$validvlet,$validvletsub),'$–$')==%%%hastbb==boolean(child::*[@style = 'tbb'])==%%%hastecchild==boolean(child::*[@style = 'tec'])==%%%hastecellipsis==contains(*[@style = 'tec'][1],'…')==%%%hastecversion==starts-with(translate(*[@style = 'tec'][1],$letucnumb,$letucnumbsub),'($$$') or  starts-with(translate(*[@style = 'tec'][1],'ALT','alt'),'(alt:')==%%%hastrdivision==contains(*[1]/*[1]/text(),'Division') and count(following-sibling::*) = 0==%%%hastrparagraph==contains(*[1]/text(),'Paragraph') and count(following-sibling::*) = 0==%%%hastrpart==contains(*[1]/*[1]/text(),'Part') and count(following-sibling::*) = 0==%%%hastrsection==contains(*[1]/*[1]/text(),'Section') and count(following-sibling::*) = 0==%%%hasvhyphen==contains(verse/@number,'-')==%%%hasvlet==contains(translate(node()[not(self::*)],$validcvnumblet,$validcvnumbletsub),'#$')==%%%hasvsub==contains(translate(node()[not(self::*)],$validcvnumblet,$validcvnumbletsub),'#$–$')==%%%indqstr1==substring-after($dqstr1,$ldq)==%%%indqstr10==substring-after($dqstr10,$ldq)==%%%indqstr2==substring-after($dqstr2,$ldq)==%%%indqstr3==substring-after($dqstr3,$ldq)==%%%indqstr4==substring-after($dqstr4,$ldq)==%%%indqstr5==substring-after($dqstr5,$ldq)==%%%indqstr6==substring-after($dqstr6,$ldq)==%%%indqstr7==substring-after($dqstr7,$ldq)==%%%indqstr8==substring-after($dqstr8,$ldq)==%%%indqstr9==substring-after($dqstr9,$ldq)==%%%lastchar==substring(.,string-length(.),1)==%%%lastchar2==substring(.,string-length(.) - 1,1)==%%%lastnodelast4char==substring($lastnode,$lastnodelen - 3,4)==%%%lastnodelast5char==substring($lastnode,$lastnodelen - 4,5)==%%%lastnodelast5charmod==translate($lastnodelast5char,$letulcendpunc,$letulcendpuncsub)==%%%lastchartype==translate(substring(.,string-length(.),1),$validcvnumblet,$validcvnumbletsub)==%%%lastnode==node()[last()]==%%%lastnodelen==string-length($lastnode)==%%%next2lastnode==node()[last() - 1]==%%%next2lastnodelen==string-length($next2lastnode)==%%%next2lastnodelast4char==substring($next2lastnode,$next2lastnodelen - 3,4)==%%%next2lastnodelast4charmod==translate($next2lastnodelast4char,$letulcendpunc,$letulcendpuncsub)==%%%lasttext==text()[last()]==%%%ldqstr1==substring-before($indqstr1,$ldq)==%%%ldqstr10==substring-before($indqstr10,$ldq)==%%%ldqstr2==substring-before($indqstr2,$ldq)==%%%ldqstr3==substring-before($indqstr3,$ldq)==%%%ldqstr4==substring-before($indqstr4,$ldq)==%%%ldqstr5==substring-before($indqstr5,$ldq)==%%%ldqstr6==substring-before($indqstr6,$ldq)==%%%ldqstr7==substring-before($indqstr7,$ldq)==%%%ldqstr8==substring-before($indqstr8,$ldq)==%%%ldqstr9==substring-before($indqstr9,$ldq)==%%%lenchildtec==string-length(*[@style = 'tec']/text())==%%%lenpretext==string-length($precedingtext)==%%%node1tec==node()[1][@style = 'tec']==%%%nodecount==count(node())==%%%notmultirowtable==not(parent::*[@style = 'tr']/preceding-sibling::*[@style = 'tr']) or not(parent::*[@style = 'tr']/following-sibling::*[@style = 'tr'])==%%%notposttabledivision==not(contains(following-sibling::table[1],'Division'))==%%%notposttableparagraph==not(contains(following-sibling::table[1],'Paragraph'))==%%%notposttablesection==not(contains(following-sibling::table[1],'Section'))==%%%notsbxchild==not(child::*[@style = 'sbx'])==%%%numbfirst==substring(translate(.,$numb,$numbsub),1,1) = '#'==%%%parent==parent::*/@style==%%%parentpostsib==parent::*/following-sibling::*[1]/@style==%%%parentpresib==parent::*/preceding-sibling::*[1]/@style==%%%parentpresib2==parent::*/preceding-sibling::*[2]/@style==%%%parentpresibpos==count(parent::*/preceding-sibling::*)==%%%pesib1sty==preceding-sibling::*[1]/@style==%%%positionnextp==following-sibling::*[@style = 'p'][1]/position()==%%%positionnexts5==following-sibling::*[@style = 's5'][1]/position()==%%%postchar1==substring($postsibtext1,1,1)==%%%postcharn1tec==translate(substring(substring-after($pren1tec,$curtec),1, 1),$letulc,$letulcsub)==%%%postcharn2tec==translate(substring(substring-after($pren2tec,$curtec),1, 1),$letulc,$letulcsub)==%%%postellipsisstring==normalize-space(concat(' ',substring-after(translate(node()[not(self::*)],':',''),'…'),' '))==%%%postnodechar1==substring($posttext,1,1)==%%%postRsqchar1sub==translate(substring(substring-after(.,$rsq),1,1),$letulc,$letulcsub)==%%%posts5beforevhaslrb==contains($values5beforev,'(')==%%%posts5beforevhasvr2==contains(translate($values5beforev,$validcvnumblet,$validcvnumbletsub),'–#')==%%%posts5hasendashvr2==contains(translate(following::*[@style = 's5'][1],$validcvnumblet,$validcvnumbletsub),'–#')==%%%posts5hasleftround==contains(following::*[@style = 's5'][1],'(')==%%%posts5v==substring-after(translate(following::*[@style = 's5'][1],$validvletendash,''),':')==%%%posts5vlet==substring-before(substring-after(translate(following::*[@style = 's5'][1],$validvlet,''),':')==%%%postsib==following-sibling::*[1]/@style==%%%postsibnode1==following-sibling::node()[1]==%%%postsibtext1==following-sibling::text()[1]==%%%posttable==following-sibling::*[1][name() = 'table'] ==%%%posttable2==following-sibling::*[2][name() = 'table'] ==%%%posttext==following::text()[1]==%%%preceding2char==substring($precedingtext,$lenpretext - 1,2) ==%%%precedingchar==substring($precedingtext,$lenpretext,1) ==%%%precedingtext==preceding::text()[1]==%%%prechapter==preceding::chapter[1]/@number==%%%precharn1tec==translate(substring(substring-before($pren1tec,$curtec),string-length(substring-before($pren1tec,$curtec)), 1),$letulc,$letulcsub)==%%%precharn2tec==translate(substring(substring-before($pren2tec,$curtec),string-length(substring-before($pren2tec,$curtec)), 1),$letulc,$letulcsub)==%%%precleanverse==translate($preverse,concat($validvletpunc,'-—'),'')==%%%preellipsisstring==normalize-space(concat(' ',substring-before(node()[not(self::*)],'…'),' '))==%%%premultiellipsisstring2==substring-before($splitellipsisstring2,'…')==%%%pren1tec==preceding::*[@style = 'n1'][child::*[@style = 'tec']][1]/*[@style = 'tec'][1]==%%%pren2tec==preceding::*[@style = 'n2'][child::*[@style = 'tec']][1]/*[@style = 'tec'][1]==%%%pren3tec==preceding::*[@style = 'n3'][child::*[@style = 'tec']][1]/*[@style = 'tec'][1]==%%%pres5hasendashvr2==contains(translate(preceding::*[@style = 's5'][1],$validcvnumblet,$validcvnumbletsub),'–#')==%%%pres5hasleftround==contains(preceding::*[@style = 's5'][1],'(')==%%%pres5text==preceding::*[@style = 's5'][1]/text()==%%%pres5v==substring-after(translate(preceding::*[@style = 's5'][1],$validvletendash,''),':')==%%%pres5vlet==substring-after(translate(preceding::*[@style = 's5'][1],$validvlet,''),':')==%%%presib==preceding-sibling::*[1]/@style==%%%presib2==preceding-sibling::*[2]/@style==%%%presibnode1==preceding-sibling::node()[1]==%%%presibtext1==preceding-sibling::text()[1]==%%%presibtext1last12==substring($presibtext1,string-length($presibtext1) - 11,12)==%%%presl1Ldq==contains($presl1text,$ldq)==%%%presl1Lsq==contains($presl1text,$lsq)==%%%presl1postRsqchar1sub==translate(substring(substring-after($presl1text,$rsq),1,1),$letulc,$letulcsub)==%%%presl1postRsqcount==string-length($presl1text) - string-length(translate($presl1text, $rsq, ''))==%%%presl1Rdq==contains($presl1text,$rdq)==%%%presl1Rsq==contains(translate($presl1text,$postrsq,''),$validrsqcontext)==%%%presl1textchar1==substring($presl1textlast,1,1)==%%%presl1textcharlast==substring($presl1textlast,$presl1textlastlen,1)==%%%presl1textlast==preceding-sibling::*[@style = 'sl1'][1]/node()[last()]==%%%presl1textlastlen==string-length($presl1textlast)==%%%presl1textposttbb==preceding-sibling::*[@style = 'sl1'][1]/node()[3]==%%%presl1textposttbbchar1==substring($presl1textposttbb,1,1)==%%%pretec==concat(' ',preceding::*[@style = 'tec'][1])==%%%pretextlastchar==substring($presibtext1,string-length($presibtext1),1)==%%%preverse==preceding::verse[1]/@number==%%%preverser1==substring-before($preverse,'-')==%%%preverser2==substring-after($preverse,'-')==%%%prevhyphen==contains($preverse,'-')==%%%refattchap==substring-before(@ref,':')==%%%refattchapdot==substring-before(@ref,'.')==%%%refattdotverse==substring-after(@ref,'.')==%%%refattverse==substring-after(@ref,':')==%%%refchapcolon==substring-before(node()[not(self::*)],':')==%%%refcolonv==substring-after(node()[not(self::*)],':')==use currefv%%%refcolonvlet==substring-before(translate(substring-after(node()[not(self::*)],':'),$letlc,$letsub),'$')==%%%refcolonvnumb==translate(substring-after(text(),':'),$validvlet,'')==use currefv%%%refcolonvnumblet==translate(substring-after(text(),':'),$validvletpunc,'')==?? use currefv%%%refcolonvr1==substring-before(translate(substring-after(node()[not(self::*)],':'),$validvlet,''),'–')==use currefr1%%%refcolonvr2==substring-after($refcolonv,'–')==use currefr2%%%reftype==translate(node()[not(self::*)],$validcvnumblet,$validcvnumbletsub)==%%%refvendash==contains(node()[not(self::*)],'–')==%%%refwordschapcolon==substring-before(substring(node()[not(self::*)],$strlenb4chap +1),':')==%%%Rsqmodstring==translate(.,$postrsq,'')==%%%sbxc==normalize-space(translate(substring-before(text(),':'),$letulc,''))==%%%sbxv==translate(substring-after(text(),':'),$validvletpunc,'')==%%%sl1c==substring-before(text()[1],':')==%%%sl1v==translate(substring-after(text()[1],':'),$validvletpunc,'')==%%%spacecount==string-length(.)-string-length(translate(.,' ',''))==%%%split2ellipsisstring1==substring-before(.,'…')==%%%split2ellipsisstring2==substring-after(.,'…')==%%%split3ellipsisstring2==substring-before($split2ellipsisstring2,'…')==%%%split3ellipsisstring3==substring-after($split2ellipsisstring2,'…')==%%%split4ellipsisstring3==substring-before($split3ellipsisstring3,'…')==%%%split4ellipsisstring4==substring-after($split3ellipsisstring3,'…')==%%%sqdiff1==string-length(translate($ldqstr1,$rsq,'')) - string-length(translate($ldqstr1,$lsq,''))==%%%sqdiff10==string-length(translate($ldqstr10,$rsq,'')) - string-length(translate($ldqstr10,$lsq,''))==%%%sqdiff2==string-length(translate($ldqstr2,$rsq,'')) - string-length(translate($ldqstr2,$lsq,''))==%%%sqdiff3==string-length(translate($ldqstr3,$rsq,'')) - string-length(translate($ldqstr3,$lsq,''))==%%%sqdiff4==string-length(translate($ldqstr4,$rsq,'')) - string-length(translate($ldqstr4,$lsq,''))==%%%sqdiff5==string-length(translate($ldqstr5,$rsq,'')) - string-length(translate($ldqstr5,$lsq,''))==%%%sqdiff6==string-length(translate($ldqstr6,$rsq,'')) - string-length(translate($ldqstr6,$lsq,''))==%%%sqdiff7==string-length(translate($ldqstr7,$rsq,'')) - string-length(translate($ldqstr7,$lsq,''))==%%%sqdiff8==string-length(translate($ldqstr8,$rsq,'')) - string-length(translate($ldqstr8,$lsq,''))==%%%sqdiff9==string-length(translate($ldqstr9,$rsq,'')) - string-length(translate($ldqstr9,$lsq,''))==%%%strlenb4chap==string-length(substring-before(translate(node()[not(self::*)],$validcvnumblet,$validcvnumbletsub),'#'))==%%%style==@style==%%%tec1ellipsis1==substring-before($curtec,$ellipsis)==%%%tec1ellipsis2==$curtecpostellipsisparse1==%%%tec2ellipsis2==substring-before($curtecpostellipsisparse1,$ellipsis)==%%%tec2ellipsis3==$curtecpostellipsisparse2==%%%tec3ellipsis3==substring-before($curtecpostellipsisparse2,$ellipsis)==%%%tec3ellipsis4==$curtecpostellipsisparse3==%%%tec4ellipsis4==substring-before($curtecpostellipsisparse4,$ellipsis)==%%%tec4ellipsis5==$curtecpostellipsisparse4==%%%teccharposttrs==translate(substring($tecstringposttrs,1, 1),$letulc,$letulcsub)==%%%teccharpretrs==translate(substring($tecstringpretrs,string-length($tecstringpretrs), 1),$letulc,$letulcsub)==%%%tecstringposttrs==substring-after($pretec,.)==%%%tecstringpretrs==substring-before($pretec,.)==%%%validtecfirst==substring(translate(*[@style = 'tec']/text(),concat($letulc,'('),concat($letulcsub,'$')),1,1)==%%%values5beforev==following::*[@style = 'v'][1]/preceding::*[@style = 's5'][1]/text()==%%%wwellipsis1==normalize-space(translate(concat(' ',$split2ellipsisstring1,' '),$puncreplace,$puncreplacespace))==%%%wwellipsis2==normalize-space(translate(concat(' ',$split2ellipsisstring2,' '),$puncreplace,$puncreplacespace))==%%%wwellipsis3-2==normalize-space(translate(concat(' ',$split3ellipsisstring2,' '),$puncreplace,$puncreplacespace))==%%%wwellipsis3-3==normalize-space(translate(concat(' ',$split2ellipsisstring2,' '),$puncreplace,$puncreplacespace))==%%%wwellipsis4-2==normalize-space(translate(concat(' ',$split3ellipsisstring2,' '),$puncreplace,$puncreplacespace))==%%%wwellipsis4-3==normalize-space(translate(concat(' ',$split4ellipsisstring3,' '),$puncreplace,$puncreplacespace))==%%%wwellipsis4-4==normalize-space(translate(concat(' ',$split4ellipsisstring4,' '),$puncreplace,$puncreplacespace))==%%%z_causeserrors1==translate(substring-after(node()[not(self::*)],':'),$validvlet,'')==%%%notetext==text()==%%%notetextlen==string-length($notetext)==%%%fnstringmod==translate(.,$letulcendpunc,$letulcendpuncsub)==%%%fnstringmod2==translate($fnstringmod,'˽','')==%%%fnstringmodlastchar==substring($fnstringmod2,string-length($fnstringmod2),1)==</xsl:variable>
<xsl:variable name="var-string" select="tokenize($var-string_list,'%%%')"/>
</xsl:stylesheet>